(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{229:function(e,t,n){e.exports=n.p+"static/media/full_logo.bd01e22a.svg"},230:function(e,t,n){e.exports=n.p+"static/media/kh_flag.5a13865d.svg"},231:function(e,t,n){e.exports=n.p+"static/media/gb_flag.d3ddd602.svg"},233:function(e){e.exports=JSON.parse('{"app.greeting":"Hello World!","errors.oop":"OOP!","errors.404":"404","errors.page_not_found_des":"\u1791\u17c6\u1796\u17d0\u179a\u178a\u17c2\u179b\u17a2\u17d2\u1793\u1780\u1780\u17c6\u1796\u17bb\u1784\u179a\u1780\u1798\u17b7\u1793\u1798\u17b6\u1793\u1791\u17c1\u17d4","links.go_home":"\u1791\u17c5\u1791\u17c6\u1796\u17d0\u179a\u178a\u17be\u1798","label.province":"\u1781\u17c1\u178f\u17d2\u178f/\u1780\u17d2\u179a\u17bb\u1784","label.confirmed":"\u1780\u179a\u178e\u17b8\u1786\u17d2\u179b\u1784\u1787\u17c6\u1784\u17ba","label.active":"\u1780\u17c6\u1796\u17bb\u1784\u1795\u17d2\u1791\u17bb\u1780\u1787\u17c6\u1784\u17ba","label.recovered":"\u1787\u17b6\u179f\u17c7\u179f\u17d2\u1794\u17be\u1799","label.dead":"\u179f\u17d2\u179b\u17b6\u1794\u17cb","case.new":"\u1790\u17d2\u1798\u17b8","case.confirmed":"\u1780\u179a\u178e\u17b8\u1786\u17d2\u179b\u1784\u1787\u17c6\u1784\u17ba","case.active":"\u1780\u17c6\u1796\u17bb\u1784\u1795\u17d2\u1791\u17bb\u1780\u1787\u17c6\u1784\u17ba","case.recovered":"\u1787\u17b6\u179f\u17c7\u179f\u17d2\u1794\u17be\u1799","case.dead":"\u179f\u17d2\u179b\u17b6\u1794\u17cb","app.no_records":"\u1782\u17d2\u1798\u17b6\u1793\u200b\u1791\u17b7\u1793\u17d2\u1793\u1793\u17d0\u1799","app.contacts":"\u1791\u17b6\u1780\u17cb\u1791\u1784","app.links":"\u178f\u17c6\u178e","app.news":"\u1796\u17d0\u178f\u17cc\u1798\u17b6\u1793","app.home":"\u1791\u17c6\u1796\u17d0\u179a\u178a\u17be\u1798","app.updated_at":"\u1794\u1785\u17d2\u1785\u17bb\u1794\u17d2\u1794\u1793\u17d2\u1793\u1797\u17b6\u1796 ","app.offline":"\u1782\u17d2\u1798\u17b6\u1793\u17a2\u17ca\u17b8\u1793\u1792\u17ba\u178e\u17b7\u178f","app.install":"\u178a\u17c6\u17a1\u17be\u1784\u200b\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8"}')},234:function(e){e.exports=JSON.parse('{"app.greeting":"Hello World!","errors.oop":"OOP!","errors.404":"404","errors.page_not_found_des":"The page you were looking for doesn\'t exist.","links.go_home":"Go home","label.province":"Province","label.confirmed":"Confirmed","label.active":"Active","label.recovered":"Recovered","label.dead":"Dead","case.confirmed":"CONFIRMED","case.active":"ACTIVE","case.recovered":"RECOVERED","case.dead":"DEAD","case.new":"new","app.no_records":"No Record","app.contacts":"Contacts","app.links":"Links","app.news":"News","app.home":"Home","app.updated_at":"Updated ","app.offline":"No Internet","app.install":"Install"}')},250:function(e,t,n){e.exports=n(477)},468:function(e,t,n){},477:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),i=n.n(c),o=n(22),l=n(81),s=n(221),u=n(98),d=n.n(u),m=n(14),p=n(17),f=n(16),h=n(12),v=n(15),g=n(9),b=n(58),E=n(38),w=n(10),O=n(69),y=n.n(O);function j(){var e=Object(g.a)(["\n  width: 100%;\n  height: 100vh;\n  flex: 1;\n  display: flex;\n  justify-content: center;\n"]);return j=function(){return e},e}var k=w.a.div(j()),N=function(){return r.a.createElement(k,null,r.a.createElement("img",{className:"loader__image",src:y.a,alt:"loading"}))},_=n(80),x=n(179);function C(){var e=Object(g.a)(["\n  display: flex;\n  flex: 1;\n  height: 100vh;\n  align-items: center;\n  justify-content: center;\n  .top-title {\n    color: #cacedb;\n    font-weight: 700;\n    font-size: 3.75rem;\n  }\n  .main-title {\n    font-weight: 500;\n    font-size: 2.1875rem;\n    margin-bottom: .625rem;\n  }\n  .blurb {\n    color: #818ea3;\n  }\n"]);return C=function(){return e},e}var D=w.a.div(C()),F=function(){return r.a.createElement(D,{className:"not-found-container"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"inner-wrapper"},r.a.createElement("div",{className:"top-title"},r.a.createElement(x.a,{id:"errors.oop",defaultMessage:"OOP!"})),r.a.createElement("div",{className:"main-title"},r.a.createElement(x.a,{id:"errors.404",defaultMessage:"404"}))),r.a.createElement("p",{className:"blurb"},r.a.createElement(x.a,{id:"errors.page_not_found_des",defaultMessage:"The page you were looking for doesn't exist."}),r.a.createElement("br",null)),r.a.createElement("div",{className:"text-center"},r.a.createElement(_.a,{to:"/",className:"btn btn-primary btn-sm"},r.a.createElement(x.a,{id:"links.go_home",defaultMessage:"Go home"})))))},L=n(225);function R(){var e=Object(g.a)(["\n  position: fixed;\n  padding: 10px 15px;\n  background: #181e1e;\n  color: #FFF;\n  opacity: 0.8;\n  left: 40%;\n  top: 8px;\n"]);return R=function(){return e},e}var A=w.a.div(R()),S=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(L.Offline,null,r.a.createElement(A,null,r.a.createElement(x.a,{id:"app.offline",defaultMessage:"No internet"})))}}]),t}(r.a.Component),I=n(512),P=n(34),T=n(515),M=n(235),B=n.n(M),W=n(229),G=n.n(W),U=n(230),z=n.n(U),H=n(231),V=n.n(H),q="DASHBOARD_LOADED",K="LOADING_DASHBOARD",Y="DASHBOARD_FAILED",J="LINKS_LOADED",X="LOADING_LINKS",$="LINKS_FAILED",Q="CONTACTS_LOADED",Z="LOADING_CONTACTS",ee="CONTACTS_FAIL",te="SYS_LOADING_COMPLETE",ne="TOGGLE_INSTALL_APP_BTN",ae={normalPermission:["guest","student","staff","admin"],moderatorPermission:["staff","admin"],adminPermission:["admin"]},re="TOGGLE_NEWS_DRAWER",ce="NEWS_LIST_LOADED",ie="LOADING_NEWS_LIST",oe="NEWS_LIST_FAILED",le="SET_NEWS_DETAIL",se=n(33),ue=n.n(se),de=n(54),me=n.n(de),pe=n(232),fe=n.n(pe);var he=n(20),ve={fetchDashboardData:function(e){return ue.a.get("/v1/dashboard",{params:Object(he.a)({},e)})},getLinks:function(e){return ue.a.get("/v1/links",{params:Object(he.a)({},e)})},getContacts:function(e){return ue.a.get("/v1/contacts",{params:Object(he.a)({},e)})}};var ge={fetchNewsList:function(e){return ue.a.get("/v1/news_list",{params:Object(he.a)({},e)})},fetchNewsDetail:function(e){return ue.a.get("/v1/news_detail"+e)}};!function(){var e=me.a.get("token"),t=function(){var e=sessionStorage.getItem("uuid");return e||(e=fe()(),sessionStorage.setItem("uuid",e),e)}();ue.a.defaults.baseURL="https://api.co19kh.info",ue.a.defaults.headers.common["Content-Type"]="application/json",ue.a.defaults.headers.common.Accept="application/json",ue.a.defaults.headers.common.UUID=t,null!==e&&(ue.a.defaults.headers.common.Authorization="Bearer "+e)}(),function(){var e=!1,t=[],n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.forEach((function(t){e?t.reject(e):t.resolve(n)})),t=[]};ue.a.interceptors.response.use((function(e){return e}),(function(a){var r=a.config,c=me.a.get("refresh_token");return c&&a.response&&401===a.response.status&&!r._retry?e?new Promise((function(e,n){t.push({resolve:e,reject:n})})).then((function(e){return r.headers.Authorization="Bearer "+e,ue()(r)})).catch((function(e){return e})):(r._retry=!0,e=!0,new Promise((function(t,a){ue.a.post("/v1/refresh_token",{refresh_token:c}).then((function(e){var a,c,i=e.data,o=i.auth.token,l=i.auth.refresh_token;a=o,c=l,me.a.set("refresh_token",c),me.a.set("token",a),ue.a.defaults.headers.common.Authorization="Bearer "+o,r.headers.Authorization="Bearer "+o,n(null,o),t(ue()(r))})).catch((function(e){n(e,null),a(e)})).then((function(){e=!1}))}))):Promise.reject(a)}))}();var be,Ee=n(233),we=n(234);function Oe(e){return"km"===e?Ee:we}function ye(e){return function(t){t({type:ne,payload:e})}}function je(e){return function(t){t({type:K,payload:null}),ve.fetchDashboardData(e).then((function(e){t({type:q,payload:e.data}),t({type:te,payload:null})})).catch((function(e){console.log(e),t({type:te,payload:null}),t({type:Y,payload:null})}))}}function ke(e){return function(t){t({type:X,payload:null}),ve.getLinks(e).then((function(e){t({type:J,payload:e.data})})).catch((function(e){console.log(e),t({type:$,payload:null})}))}}function Ne(e){return function(t){t({type:Z,payload:null}),ve.getContacts(e).then((function(e){t({type:Q,payload:e.data})})).catch((function(e){console.log(e),t({type:ee,payload:null})}))}}function _e(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"]);return _e=function(){return e},e}function xe(){var e=Object(g.a)(["\n  height: 20px;\n  width: 40px;\n"]);return xe=function(){return e},e}function Ce(){var e=Object(g.a)(["\n  display: flex;\n  align-items: center;\n"]);return Ce=function(){return e},e}function De(){var e=Object(g.a)(["\n  height: 40px;\n"]);return De=function(){return e},e}function Fe(){var e=Object(g.a)(["\n  height: 100%;\n  padding: 10px 20px;\n  max-width: 800px;\n"]);return Fe=function(){return e},e}function Le(){var e=Object(g.a)(["\n  background: #FFF;\n  background: transparent;\n  top: 0;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n"]);return Le=function(){return e},e}var Re=w.a.div(Le()),Ae=Object(w.a)(I.a)(Fe()),Se=w.a.img(De()),Ie=w.a.div(Ce()),Pe=w.a.img(xe()),Te=w.a.div(_e()),Me=Object(o.connect)((function(e){return{current_lang:e.intl.locale,isShowInstallBtn:e.commonReducers.isShowInstallBtn}}),{changeLanguage:function(e){return function(t){"km"!==e&&"en"!==e||(d.a.locale(e),t(Object(l.updateIntl)({locale:e,messages:Oe(e)})),function(e){me.a.set("locale",e)}(e))}},toggleInstallApp:ye})(be=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).toggle=function(){n.setState((function(e){return{open:!e.open}}))},n.handleInstall=function(){var e=window.deferredPrompt;e&&(e.prompt(),e.userChoice.then((function(e){console.log("\ud83d\udc4d","userChoice",e),window.deferredPrompt=null,n.props.toggleInstallApp({show:!1})})))},n.state={open:!1},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"onChangeLang",value:function(e){e!==this.props.current_lang&&this.props.changeLanguage(e)}},{key:"_renderFlag",value:function(e,t){var n=this;return"en"===e?r.a.createElement(Ie,{onClick:function(){return n.onChangeLang("en")}},r.a.createElement(Pe,{src:V.a,alt:"English"}),r.a.createElement("b",null,t?"EN":"English")):r.a.createElement(Ie,{onClick:function(){return n.onChangeLang("km")}},r.a.createElement(Pe,{src:z.a,alt:"Khmer"}),r.a.createElement("b",null,t?"KH":"\u1781\u17d2\u1798\u17c2\u179a"))}},{key:"render",value:function(){var e=this.props,t=e.current_lang,n=e.isShowInstallBtn;return r.a.createElement(Re,null,r.a.createElement(Ae,{container:!0,spacing:0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(I.a,{item:!0,xs:4,sm:8},r.a.createElement(_.a,{to:"/"},r.a.createElement(Se,{src:G.a,alt:"kounissay"}))),r.a.createElement(I.a,{item:!0,xs:8,sm:4},r.a.createElement(Te,{className:""},r.a.createElement("div",null,n&&r.a.createElement(T.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(B.a,null),onClick:this.handleInstall},r.a.createElement(x.a,{id:"app.install",defaultMessage:"Install"}))),r.a.createElement(P.e,{open:this.state.open,toggle:this.toggle},r.a.createElement(P.h,{tag:"span"},this._renderFlag(t,!0)),r.a.createElement(P.g,{right:!0},r.a.createElement(P.f,null,this._renderFlag("km")),r.a.createElement(P.f,null,this._renderFlag("en"))))))))}}]),t}(r.a.Component))||be,Be=n(13),We=n(516),Ge=n(517),Ue=n(236),ze=n.n(Ue),He=n(237),Ve=n.n(He),qe=n(238),Ke=n.n(qe),Ye=n(126),Je=n.n(Ye),Xe=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={page:""},n.handleChange=function(e,t){"home"===t?xn.push("/"):xn.push("/"+t)},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this._updatePageState()}},{key:"componentDidMount",value:function(){this._updatePageState()}},{key:"_updatePageState",value:function(){var e=this.props.location.pathname,t="",n=!!Object(b.e)(e,{path:"/",exact:!0}),a=!!Object(b.e)(e,{path:"/news"}),r=!!Object(b.e)(e,{path:"/contacts"}),c=!!Object(b.e)(e,{path:"/links"});n?t="home":a?t="news":r?t="contacts":c&&(t="links"),this.setState({page:t})}},{key:"render",value:function(){var e=this.props.classes,t=this.state.page;return r.a.createElement(We.a,{value:t,onChange:this.handleChange,className:e.root},r.a.createElement(Ge.a,{label:r.a.createElement(x.a,{id:"app.home",defaultMessage:"Home"}),value:"home",icon:r.a.createElement(ze.a,null),className:""}),r.a.createElement(Ge.a,{label:r.a.createElement(x.a,{id:"app.news",defaultMessage:"News"}),value:"news",icon:r.a.createElement(Ve.a,null)}),r.a.createElement(Ge.a,{label:r.a.createElement(x.a,{id:"app.links",defaultMessage:"Links"}),value:"links",icon:r.a.createElement(Je.a,null),className:""}),r.a.createElement(Ge.a,{label:r.a.createElement(x.a,{id:"app.contacts",defaultMessage:"Contacts"}),value:"contacts",icon:r.a.createElement(Ke.a,null),className:""}))}}]),t}(r.a.Component),$e=Object(Be.a)((function(){return{root:{width:"100%"}}}))(Object(b.f)(Xe));function Qe(){var e=Object(g.a)(["\n  display: flex;\n  flex: 1;\n  overflow: auto;\n  // padding: 10px 20px;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n"]);return Qe=function(){return e},e}function Ze(){var e=Object(g.a)(["\n  background: #f5f6f8;\n  width: 100%;\n  overflow: hidden;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n"]);return Ze=function(){return e},e}var et,tt=w.a.div(Ze()),nt=w.a.div(Qe()),at=function(e){var t=e.children;return r.a.createElement(tt,null,r.a.createElement(Me,null),r.a.createElement(nt,null,t),r.a.createElement($e,null))},rt=n(127),ct=n.n(rt),it=n(29),ot=n.n(it);function lt(){var e=Object(g.a)(["\n  font-size: 1em;\n"]);return lt=function(){return e},e}function st(){var e=Object(g.a)(["\n  font-size: 1em;\n"]);return st=function(){return e},e}function ut(){var e=Object(g.a)(["\n"]);return ut=function(){return e},e}var dt,mt=Object(w.a)(P.a)(ut()),pt=Object(w.a)(P.c)(st()),ft=w.a.span(lt()),ht=Object(o.connect)((function(e){return{summary:e.dashboardReducers.summary}}),{})(et=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"renderNewCase",value:function(e){return e&&e>0?r.a.createElement(ft,null,"(",e," ",r.a.createElement(x.a,{id:"case.new",defaultMessage:"new"}),")"):null}},{key:"renderCase",value:function(e,t,n,a){return r.a.createElement(P.d,{xs:"6",md:"3",className:"mb-3"},r.a.createElement(mt,{className:"p-0 h-100",theme:""},r.a.createElement(P.b,{className:"".concat(n," p-4 text-center")},r.a.createElement(pt,{className:n},r.a.createElement(x.a,{id:"case.".concat(a),defaultMessage:"Case"})),r.a.createElement("h2",{className:"".concat(n," mb-0")},e),this.renderNewCase(t))))}},{key:"render",value:function(){var e=this.props.summary;return ot()(e)?r.a.createElement("div",null):r.a.createElement(P.i,null,this.renderCase(e.confirmed,e.new_confirmed,"text-danger","confirmed"),this.renderCase(e.active,0,"text-primary","active"),this.renderCase(e.recovered,e.new_recovered,"text-success","recovered"),this.renderCase(e.dead,e.new_dead,"","dead"))}}]),t}(r.a.Component))||et,vt=n(523),gt=n(524),bt=n(520),Et=n(521),wt=n(518),Ot=n(519),yt=n(528),jt=n(522),kt=n(171),Nt=n.n(kt),_t=n(239),xt=n.n(_t),Ct=[{id:"province",numeric:!1,className:""},{id:"confirmed",numeric:!0,className:"text-danger"},{id:"active",numeric:!0,className:"text-primary"},{id:"recovered",numeric:!0,className:"text-success"},{id:"dead",numeric:!0,className:""}];function Dt(e){var t=e.order,n=e.orderField,a=e.onRequestSort;return r.a.createElement(wt.a,null,r.a.createElement(Ot.a,null,Ct.map((function(e){return r.a.createElement(bt.a,{key:e.id,align:e.numeric?"right":"left",padding:"default",sortDirection:n===e.id&&t},r.a.createElement(yt.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(c=e.id,function(e){a(e,c)}),className:e.className},r.a.createElement(x.a,{id:"label.".concat(e.id),defaultMessage:""}),n===e.id?r.a.createElement("span",{className:""},""):null));var c}))))}var Ft=Object(o.connect)((function(e){return{provinces:e.dashboardReducers.provinces,locale:e.intl.locale}}),{})(dt=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={order:"desc",orderField:"confirmed"},n.handleRequestSort=function(e,t){var a=n.state,r=a.orderField,c=a.order,i=r===t&&"asc"===c;n.setState({order:i?"desc":"asc"}),n.setState({orderField:t})},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"renderName",value:function(e){return"en"!==this.props.locale||ot()(e.province_en)?e.province:e.province_en}},{key:"renderNewCase",value:function(e){return e&&e>0?r.a.createElement("span",null,"(",e,")"):null}},{key:"backgroundClass",value:function(e){return e.new_confirmed&&e.new_confirmed>0?"table-bg-confirmed":e.new_recovered&&e.new_recovered>0?"table-bg-recover":e.new_dead&&e.new_dead>0?"table-bg-dead":""}},{key:"render",value:function(){var e=this,t=this.props,n=t.provinces,a=t.locale,c=this.state,i=c.orderField,o=c.order;return ot()(n)?r.a.createElement("div",null):(n=xt()(n,(function(e){return e.confirmed>0})),n="en"===a&&"province"===i?Nt()(n,"".concat(i,"_en"),o):Nt()(n,i,o),r.a.createElement(Et.a,{component:jt.a},r.a.createElement(vt.a,{"aria-label":"simple table"},r.a.createElement(Dt,{order:o,orderField:i,onRequestSort:this.handleRequestSort,rowCount:n.length}),r.a.createElement(gt.a,null,n.map((function(t){return r.a.createElement(Ot.a,{key:t.province,className:e.backgroundClass(t)},r.a.createElement(bt.a,{component:"th",scope:"row",className:"text-province"},e.renderName(t)),r.a.createElement(bt.a,{align:"right",className:"text-danger"},t.confirmed,e.renderNewCase(t.new_confirmed)),r.a.createElement(bt.a,{align:"right",className:"text-primary"},t.active,e.renderNewCase(0)),r.a.createElement(bt.a,{align:"right",className:"text-success"},t.recovered,e.renderNewCase(t.new_recovered)),r.a.createElement(bt.a,{align:"right",className:"text-dead"},t.dead,e.renderNewCase(t.new_dead)))}))))))}}]),t}(r.a.Component))||dt;function Lt(){var e=Object(g.a)(["\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n"]);return Lt=function(){return e},e}var Rt,At=w.a.div(Lt()),St=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.className;return r.a.createElement(At,{className:"".concat(n," container")},!t&&r.a.createElement("h4",null,r.a.createElement(x.a,{id:"app.no_records",defaultMessage:"No Record"})),t&&r.a.createElement("img",{className:"loader__image",src:y.a,alt:"loading"}))}}]),t}(r.a.Component);function It(){var e=Object(g.a)(["\n"]);return It=function(){return e},e}var Pt,Tt=w.a.div(It()),Mt=Object(o.connect)((function(e){return{lastFetchAt:e.dashboardReducers.lastFetchAt,isFetching:e.dashboardReducers.isFetching}}),{})(Rt=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.lastFetchAt;return e.isFetching?r.a.createElement(St,{isFetching:!0}):r.a.createElement(Tt,{className:"container"},t&&r.a.createElement("div",{className:"text-right"},r.a.createElement("p",{className:"mb-1 mr-2"},r.a.createElement(x.a,{id:"app.updated_at",defaultMessage:"Updated:"}),r.a.createElement("span",{className:"text-success"},r.a.createElement(ct.a,{fromNow:!0},t)))),r.a.createElement(ht,null),r.a.createElement(Ft,null))}}]),t}(r.a.Component))||Rt;function Bt(){var e=Object(g.a)(["\n  overflow: auto;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n"]);return Bt=function(){return e},e}var Wt,Gt=w.a.div(Bt()),Ut=Object(o.connect)((function(e){return{links:e.linkReducers.links,isFetching:e.linkReducers.isFetching}}),{})(Pt=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.links,n=e.isFetching;return ot()(t)?r.a.createElement(St,{isFetching:n,className:"bg-white"}):r.a.createElement(Gt,{className:"container bg-white"},t.map((function(e,t){return r.a.createElement("div",{className:"p-3 border rounded mt-3 text-break",key:t},r.a.createElement("h5",{className:"mb-0"},e.title),r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:"pl-1"},e.link)))})))}}]),t}(r.a.Component))||Pt,zt=n(240),Ht=n.n(zt);function Vt(){var e=Object(g.a)(["\n  overflow: auto;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n"]);return Vt=function(){return e},e}var qt=w.a.div(Vt()),Kt=Object(o.connect)((function(e){return{contacts:e.contactReducers.contacts,isFetching:e.contactReducers.isFetching}}),{})(Wt=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"renderContactList",value:function(e){return r.a.createElement("div",null,e.data.map((function(e,t){return ot()(e.text)?null:"link"===e.type?r.a.createElement("div",{key:t},r.a.createElement(Je.a,null),r.a.createElement("span",{className:"pl-1"},r.a.createElement("a",{href:e.text,target:"_blank",rel:"noopener noreferrer"},e.text))):r.a.createElement("div",{key:t,className:"pt-2 pb-2"},r.a.createElement("a",{href:"tel:".concat(e.text)},r.a.createElement(Ht.a,null),r.a.createElement("span",{className:"pl-1"},e.text)))})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.contacts,a=t.isFetching;return ot()(n)?r.a.createElement(St,{isFetching:a,className:"bg-white"}):r.a.createElement(qt,{className:"container bg-white"},n.map((function(t,n){return r.a.createElement("div",{className:"p-3 border rounded mt-3 text-break",key:n},r.a.createElement("h5",{className:"mb-2"},t.name),e.renderContactList(t))})))}}]),t}(r.a.Component))||Wt;var Yt,Jt=n(526),Xt=n(241),$t=n.n(Xt),Qt=n(525),Zt=n(90);function en(e){return function(t){t({type:re,payload:e})}}function tn(e){return void 0!==(e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?e[2].split(/[^0-9a-z_-]/i)[0]:e}function nn(){var e=Object(g.a)(["\n  position: relative;\n  .loader__image {\n    position: absolute;\n    top: 40%;\n    left: 40%;\n  }\n  position: relative;\n  min-height: 120px;\n  iframe {\n    max-width: 100%;\n  }\n"]);return nn=function(){return e},e}function an(){var e=Object(g.a)(["\n  padding: 15px;\n"]);return an=function(){return e},e}function rn(){var e=Object(g.a)(["\n  padding: 15px;\n"]);return rn=function(){return e},e}function cn(){var e=Object(g.a)(["\n  display: flex;\n  flex: 1;\n  width: 100%;\n  justify-content: space-between;\n"]);return cn=function(){return e},e}var on,ln=w.a.div(cn()),sn=w.a.div(rn()),un=w.a.h5(an()),dn=w.a.div(nn()),mn=Object(o.connect)((function(e){return{newsDetail:e.newsReducers.newsDetail,newDrawerOpen:e.dialogReducers.newDrawerOpen}}),{toggleNewsDrawer:en})(Yt=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).toggleDrawer=function(){n.props.toggleNewsDrawer({open:!1})},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"renderFBEmbeded",value:function(){var e=this.props.newsDetail;return ot()(e.link)?r.a.createElement("div",null):r.a.createElement("div",{className:""},r.a.createElement(dn,{className:"text-center mb-2"},r.a.createElement("img",{className:"loader__image",src:y.a,alt:"loading"}),r.a.createElement(Zt.FacebookProvider,{appId:"466260074169181"},r.a.createElement(Zt.EmbeddedPost,{href:e.link,showText:"false",width:"auto"}))))}},{key:"renderVideo",value:function(){var e=this.props.newsDetail;if(ot()(e.link))return r.a.createElement("div",null);var t=tn(e.link);return ot()(t)?r.a.createElement("div",null):r.a.createElement("div",{className:"text-center mb-2"},r.a.createElement("div",{className:"video",style:{position:"relative",paddingBottom:"56.25%",paddingTop:25,height:0}},r.a.createElement("iframe",{title:"youtube embeded",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},src:"https://www.youtube.com/embed/".concat(t),frameBorder:"0"})))}},{key:"render",value:function(){var e=this.props,t=e.newDrawerOpen,n=e.newsDetail;return ot()(n)?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement(Jt.a,{anchor:"right",open:t,onClose:this.toggleDrawer,classes:{paper:"news-detail-drawer"},className:"drawer-wrapper"},r.a.createElement("div",null,r.a.createElement(ln,null,r.a.createElement(un,null,n.title),r.a.createElement("div",null,r.a.createElement(Qt.a,{"aria-label":"show 4 new mails",color:"inherit",onClick:this.toggleDrawer},r.a.createElement($t.a,null)))),r.a.createElement(sn,null,"facebook_post"===n.type&&this.renderFBEmbeded(),"video"===n.type&&this.renderVideo(),r.a.createElement("p",null,n.description)))))}}]),t}(r.a.Component))||Yt,pn=n(92),fn=n.n(pn);function hn(){var e=Object(g.a)(["\n"]);return hn=function(){return e},e}function vn(){var e=Object(g.a)(["\n  position: relative;\n  .loader__image {\n    position: absolute;\n    top: 40%;\n    left: 40%;\n  }\n  .post-backdrop {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n  }\n  position: relative;\n  min-height: 120px;\n  iframe {\n    max-width: 100%;\n  }\n"]);return vn=function(){return e},e}var gn,bn=w.a.div(vn()),En=w.a.div(hn()),wn=Object(o.connect)((function(){return{}}),{toggleNewsDrawer:en,setNewsDetail:function(e){return function(t){t({type:le,payload:{news:e}})}}})(on=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=n.props.news;n.props.setNewsDetail(e),n.props.toggleNewsDrawer({open:!0})},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"renderPublishDate",value:function(){var e=this.props.news;return ot()(e.publish_date)?r.a.createElement("div",null):r.a.createElement(En,{className:"text-muted"},r.a.createElement(ct.a,{format:"hh:mm MMMM DD, YYYY"},"1976-04-19T12:59-0500"))}},{key:"renderFBEmbeded",value:function(){var e=this.props.news;return ot()(e.link)?r.a.createElement("div",null):r.a.createElement("div",{className:"cursor-pointer p-3 border rounded mt-3 text-break",onClick:this.handleClick},r.a.createElement(P.i,{noGutters:!0},r.a.createElement(P.d,{sm:"6",md:"6",lg:"4"},r.a.createElement(bn,{className:"text-center mb-2"},r.a.createElement("img",{className:"loader__image",src:y.a,alt:"loading"}),r.a.createElement(Zt.FacebookProvider,{appId:"466260074169181"},r.a.createElement(Zt.EmbeddedPost,{href:e.link,showText:"false",width:"auto"})),r.a.createElement("div",{className:"post-backdrop"}))),r.a.createElement(P.d,{sm:"6",md:"6",lg:"8"},r.a.createElement("div",{className:"pl-2"},r.a.createElement("h5",{className:"mb-1"},r.a.createElement(fn.a,{text:e.title,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"})),r.a.createElement(fn.a,{text:e.description,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"}),this.renderPublishDate()))))}},{key:"renderVideo",value:function(){var e=this.props.news;if(ot()(e.link))return r.a.createElement("div",null);var t=tn(e.link);return ot()(t)?r.a.createElement("div",null):r.a.createElement("div",{className:"cursor-pointer p-3 border rounded mt-3 text-break",onClick:this.handleClick},r.a.createElement(P.i,{noGutters:!0},r.a.createElement(P.d,{sm:"6",md:"6",lg:"4"},r.a.createElement("div",{className:"text-center mb-2"},r.a.createElement("img",{src:"https://img.youtube.com/vi/".concat(t,"/mqdefault.jpg"),className:"img-fluid",alt:e.title}))),r.a.createElement(P.d,{sm:"6",md:"6",lg:"8"},r.a.createElement("div",{className:"pl-2"},r.a.createElement("h5",{className:"mb-1"},r.a.createElement(fn.a,{text:e.title,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"})),r.a.createElement(fn.a,{text:e.description,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"}),this.renderPublishDate()))))}},{key:"render",value:function(){var e=this.props.news;return"video"===e.type?this.renderVideo():"facebook_post"===e.type?this.renderFBEmbeded():r.a.createElement("div",{className:"cursor-pointer p-3 border rounded mt-3 text-break",onClick:this.handleClick},r.a.createElement("h5",{className:"mb-1"},e.title),r.a.createElement("div",{className:"mb-1"},r.a.createElement(fn.a,{text:e.description,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"}),this.renderPublishDate()))}}]),t}(r.a.Component))||on;function On(){var e=Object(g.a)(["\n  overflow: auto;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n"]);return On=function(){return e},e}var yn,jn=w.a.div(On()),kn=Object(o.connect)((function(e){return{newsList:e.newsReducers.newsList,isFetching:e.newsReducers.isFetching}}),{fetchNewsList:function(e){return function(t){t({type:ie,payload:null}),ge.fetchNewsList(e).then((function(e){t({type:ce,payload:e.data})})).catch((function(e){console.log(e),t({type:oe,payload:null})}))}}})(gn=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){n.props.fetchNewsList()},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.newsList,n=e.isFetching;return ot()(t)?r.a.createElement(St,{isFetching:n,className:"bg-white"}):r.a.createElement(jn,{className:"container bg-white"},t.map((function(e,t){return r.a.createElement(wn,{news:e,key:t})})),r.a.createElement(mn,null))}}]),t}(r.a.Component))||gn,Nn=[{path:"/",plublic:!0,exact:!0,layout:at,component:Mt,allowRoles:ae.normalPermission},{path:"/news",plublic:!0,exact:!0,layout:at,component:kn,allowRoles:ae.normalPermission},{path:"/links",plublic:!0,exact:!0,layout:at,component:Ut,allowRoles:ae.normalPermission},{path:"/contacts",plublic:!0,exact:!0,layout:at,component:Kt,allowRoles:ae.normalPermission}];function _n(){var e=Object(g.a)([""]);return _n=function(){return e},e}var xn=Object(E.a)(),Cn=w.a.div(_n()),Dn=Object(o.connect)((function(e){return{isOnboarding:e.commonReducers.isOnboarding}}),{})(yn=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){document.title="\u1780\u17bc\u179c\u17b8\u178a\u17e1\u17e9\u1781\u17d2\u1798\u17c2\u179a"}},{key:"render",value:function(){return this.props.isOnboarding?r.a.createElement(N,null):r.a.createElement(b.b,{history:xn},r.a.createElement(Cn,null,r.a.createElement(S,null),r.a.createElement(b.c,null,Nn.map((function(e,t){return r.a.createElement(b.a,{key:t,path:e.path,exact:e.exact,component:function(t){return r.a.createElement(e.layout,t,r.a.createElement(e.component,t))}})})),r.a.createElement(b.a,{component:F}))))}}]),t}(r.a.Component))||yn,Fn=n(51),Ln=n(172),Rn=n(242),An=n(527),Sn=n(173),In=n(243),Pn=n.n(In),Tn=n(244),Mn=n.n(Tn);var Bn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Fn.d,Wn=[Rn.a,Ln.batch],Gn=Bn(Fn.a.apply(void 0,Wn)),Un=Object(Fn.c)({commonReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOnline:!1,isNewVersion:!1,isOnboarding:!0,isShowInstallBtn:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(he.a)({},e,{isOnboarding:!1});case ne:var n=t.payload.show;return Object(he.a)({},e,{isShowInstallBtn:n});default:return e}},dialogReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{newDrawerOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:var n=t.payload.open;return Object(he.a)({},e,{newDrawerOpen:n});default:return e}},dashboardReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{summary:null,provinces:[],lastFetchAt:null,isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(he.a)({},e,{isFetching:!0});case Y:return Object(he.a)({},e,{isFetching:!1});case q:var n=t.payload,a=n.summary,r=n.provinces,c=n.last_fetch_at;return Object(he.a)({},e,{summary:a,provinces:r,lastFetchAt:c,isFetching:!1});default:return e}},linkReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{links:[],isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(he.a)({},e,{isFetching:!0});case $:return Object(he.a)({},e,{isFetching:!1});case J:var n=t.payload.links;return Object(he.a)({},e,{links:n,isFetching:!1});default:return e}},contactReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{contacts:[],isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(he.a)({},e,{isFetching:!0});case ee:return Object(he.a)({},e,{isFetching:!1});case Q:var n=t.payload.contacts;return Object(he.a)({},e,{contacts:n,isFetching:!1});default:return e}},newsReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{newsList:[],newsDetail:null,isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(he.a)({},e,{isFetching:!0});case oe:return Object(he.a)({},e,{isFetching:!1});case ce:var n=t.payload.news_list;return Object(he.a)({},e,{newsList:n,isFetching:!1});case le:var a=t.payload.news;return Object(he.a)({},e,{newsDetail:a});default:return e}},form:An.a,intl:l.intlReducer}),zn={key:"root",storage:Pn.a,stateReconciler:Mn.a,blacklist:["commonReducers"]},Hn=Object(Sn.a)(zn,Object(Ln.batching)(Un)),Vn=(n(466),n(467),n(468),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function qn(e,t){navigator.serviceWorker.register(e).then((function(e){e.waiting?t&&t.onWaiting&&t.onWaiting(e):e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(469),n(472),n(475),n(476);n.d(t,"store",(function(){return Xn})),n.d(t,"persistor",(function(){return $n}));var Kn=me.a.get("locale")||"en",Yn={intl:{defaultLocale:"en",locale:Kn,messages:Oe(Kn)}};d.a.locale(Kn);var Jn=function(e){var t=Object(Fn.e)(Hn,e,Gn);return{store:t,persistor:Object(Sn.b)(t)}}(Yn),Xn=Jn.store,$n=Jn.persistor;Xn.dispatch(je()),Xn.dispatch(ke()),Xn.dispatch(Ne()),setInterval((function(){Xn.dispatch(je()),Xn.dispatch(ke()),Xn.dispatch(Ne())}),3e5);var Qn=r.a.createElement(o.Provider,{store:Xn},r.a.createElement(s.PersistGate,{loading:r.a.createElement(N,null),persistor:$n},r.a.createElement(l.IntlProvider,null,r.a.createElement(Dn,null))));i.a.render(Qn,document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/sw.js");Vn?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):qn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):qn(t,e)})),navigator.serviceWorker.addEventListener("controllerchange",(function(){window.location.reload()}))}}({onWaiting:function(e){e.waiting.postMessage({action:"skipWaiting"})},onUpdate:function(e){e.waiting.postMessage({action:"skipWaiting"})},onSuccess:function(e){}}),window.addEventListener("beforeinstallprompt",(function(e){console.log("\ud83d\udc4d","beforeinstallprompt"),e.preventDefault(),window.deferredPrompt=e,setTimeout((function(){console.log("isShowInstallBtn"),window.deferredPrompt&&Xn.dispatch(ye({show:!0}))}),3e3)})),window.addEventListener("appinstalled",(function(e){console.log("\ud83d\udc4d","appinstalled"),window.deferredPrompt=null,Xn.dispatch(ye({show:!1}))}))},69:function(e,t,n){e.exports=n.p+"static/media/oval.4a57603a.svg"}},[[250,1,2]]]);
//# sourceMappingURL=main.accc4006.chunk.js.map