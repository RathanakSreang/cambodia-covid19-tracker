(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{225:function(e,t,n){e.exports=n.p+"static/media/full_logo.bd01e22a.svg"},226:function(e,t,n){e.exports=n.p+"static/media/kh_flag.5a13865d.svg"},227:function(e,t,n){e.exports=n.p+"static/media/gb_flag.d3ddd602.svg"},229:function(e){e.exports=JSON.parse('{"app.greeting":"Hello World!","errors.oop":"OOP!","errors.404":"404","errors.page_not_found_des":"\u1791\u17c6\u1796\u17d0\u179a\u178a\u17c2\u179b\u17a2\u17d2\u1793\u1780\u1780\u17c6\u1796\u17bb\u1784\u179a\u1780\u1798\u17b7\u1793\u1798\u17b6\u1793\u1791\u17c1\u17d4","links.go_home":"\u1791\u17c5\u1791\u17c6\u1796\u17d0\u179a\u178a\u17be\u1798","label.province":"\u1781\u17c1\u178f\u17d2/\u1780\u17d2\u179a\u17bb\u1784","label.confirmed":"\u1780\u179a\u178e\u17b8\u1786\u17d2\u179b\u1784\u1787\u17c6\u1784\u17ba","label.active":"\u1780\u17c6\u1796\u17bb\u1784\u1795\u17d2\u1791\u17bb\u1780\u1787\u17c6\u1784\u17ba","label.recovered":"\u1787\u17b6\u179f\u17c7\u179f\u17d2\u1794\u17be\u1799","label.dead":"\u179f\u17d2\u179b\u17b6\u1794\u17cb","case.confirmed":"\u1780\u179a\u178e\u17b8\u1786\u17d2\u179b\u1784\u1787\u17c6\u1784\u17ba","case.active":"\u1780\u17c6\u1796\u17bb\u1784\u1795\u17d2\u1791\u17bb\u1780\u1787\u17c6\u1784\u17ba","case.recovered":"\u1787\u17b6\u179f\u17c7\u179f\u17d2\u1794\u17be\u1799","case.dead":"\u179f\u17d2\u179b\u17b6\u1794\u17cb","app.no_records":"\u1782\u17d2\u1798\u17b6\u1793\u200b\u1791\u17b7\u1793\u17d2\u1793\u1793\u17d0\u1799","app.contacts":"\u1791\u17b6\u1780\u17cb\u1791\u1784","app.links":"\u178f\u17c6\u178e","app.news":"\u1796\u17d0\u178f\u17cc\u1798\u17b6\u1793","app.home":"\u1791\u17c6\u1796\u17d0\u179a\u178a\u17be\u1798","app.updated_at":"\u1794\u1785\u17d2\u1785\u17bb\u1794\u17d2\u1794\u1793\u17d2\u1793\u1797\u17b6\u1796 ","app.offline":"\u1782\u17d2\u1798\u17b6\u1793\u17a2\u17ca\u17b8\u1793\u1792\u17ba\u178e\u17b7\u178f","app.install":"\u178a\u17c6\u17a1\u17be\u1784\u200b\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8"}')},230:function(e){e.exports=JSON.parse('{"app.greeting":"Hello World!","errors.oop":"OOP!","errors.404":"404","errors.page_not_found_des":"The page you were looking for doesn\'t exist.","links.go_home":"Go home","label.province":"Province","label.confirmed":"Confirmed","label.active":"Active","label.recovered":"Recovered","label.dead":"Dead","case.confirmed":"CONFIRMED","case.active":"ACTIVE","case.recovered":"RECOVERED","case.dead":"DEAD","app.no_records":"No Record","app.contacts":"Contacts","app.links":"Links","app.news":"News","app.home":"Home","app.updated_at":"Updated ","app.offline":"No Internet","app.install":"Install"}')},245:function(e,t,n){e.exports=n(474)},465:function(e,t,n){},474:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),i=n.n(c),o=n(23),l=n(81),s=n(217),u=n(98),d=n.n(u),m=n(14),p=n(17),h=n(16),f=n(12),g=n(15),v=n(9),b=n(58),E=n(38),w=n(10),O=n(69),y=n.n(O);function j(){var e=Object(v.a)(["\n  width: 100%;\n  height: 100vh;\n  flex: 1;\n  display: flex;\n  justify-content: center;\n"]);return j=function(){return e},e}var k=w.a.div(j()),N=function(){return r.a.createElement(k,null,r.a.createElement("img",{className:"loader__image",src:y.a,alt:"loading"}))},x=n(80),_=n(178);function D(){var e=Object(v.a)(["\n  display: flex;\n  flex: 1;\n  height: 100vh;\n  align-items: center;\n  justify-content: center;\n  .top-title {\n    color: #cacedb;\n    font-weight: 700;\n    font-size: 3.75rem;\n  }\n  .main-title {\n    font-weight: 500;\n    font-size: 2.1875rem;\n    margin-bottom: .625rem;\n  }\n  .blurb {\n    color: #818ea3;\n  }\n"]);return D=function(){return e},e}var F=w.a.div(D()),C=function(){return r.a.createElement(F,{className:"not-found-container"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"inner-wrapper"},r.a.createElement("div",{className:"top-title"},r.a.createElement(_.a,{id:"errors.oop",defaultMessage:"OOP!"})),r.a.createElement("div",{className:"main-title"},r.a.createElement(_.a,{id:"errors.404",defaultMessage:"404"}))),r.a.createElement("p",{className:"blurb"},r.a.createElement(_.a,{id:"errors.page_not_found_des",defaultMessage:"The page you were looking for doesn't exist."}),r.a.createElement("br",null)),r.a.createElement("div",{className:"text-center"},r.a.createElement(x.a,{to:"/",className:"btn btn-primary btn-sm"},r.a.createElement(_.a,{id:"links.go_home",defaultMessage:"Go home"})))))},L=n(221);function R(){var e=Object(v.a)(["\n  position: fixed;\n  padding: 10px 15px;\n  background: #181e1e;\n  color: #FFF;\n  opacity: 0.8;\n  left: 40%;\n  top: 8px;\n"]);return R=function(){return e},e}var A=w.a.div(R()),S=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(L.Offline,{polling:{url:"/favicon.ico"}},r.a.createElement(A,null,r.a.createElement(_.a,{id:"app.offline",defaultMessage:"No internet"})))}}]),t}(r.a.Component),I=n(509),P=n(21),M=n(512),T=n(231),B=n.n(T),W=n(225),G=n.n(W),U=n(226),V=n.n(U),z=n(227),H=n.n(z),q="DASHBOARD_LOADED",K="LOADING_DASHBOARD",Y="DASHBOARD_FAILED",J="LINKS_LOADED",X="LOADING_LINKS",$="LINKS_FAILED",Q="CONTACTS_LOADED",Z="LOADING_CONTACTS",ee="CONTACTS_FAIL",te="SYS_LOADING_COMPLETE",ne="TOGGLE_INSTALL_APP_BTN",ae={normalPermission:["guest","student","staff","admin"],moderatorPermission:["staff","admin"],adminPermission:["admin"]},re="TOGGLE_NEWS_DRAWER",ce="NEWS_LIST_LOADED",ie="LOADING_NEWS_LIST",oe="NEWS_LIST_FAILED",le="SET_NEWS_DETAIL",se=n(34),ue=n.n(se),de=n(54),me=n.n(de),pe=n(228),he=n.n(pe);var fe=n(20),ge={fetchDashboardData:function(e){return ue.a.get("/v1/dashboard",{params:Object(fe.a)({},e)})},getLinks:function(e){return ue.a.get("/v1/links",{params:Object(fe.a)({},e)})},getContacts:function(e){return ue.a.get("/v1/contacts",{params:Object(fe.a)({},e)})}};var ve={fetchNewsList:function(e){return ue.a.get("/v1/news_list",{params:Object(fe.a)({},e)})},fetchNewsDetail:function(e){return ue.a.get("/v1/news_detail"+e)}};!function(){var e=me.a.get("token"),t=function(){var e=sessionStorage.getItem("uuid");return e||(e=he()(),sessionStorage.setItem("uuid",e),e)}();ue.a.defaults.baseURL="https://api.co19kh.info",ue.a.defaults.headers.common["Content-Type"]="application/json",ue.a.defaults.headers.common.Accept="application/json",ue.a.defaults.headers.common.UUID=t,null!==e&&(ue.a.defaults.headers.common.Authorization="Bearer "+e)}(),function(){var e=!1,t=[],n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.forEach((function(t){e?t.reject(e):t.resolve(n)})),t=[]};ue.a.interceptors.response.use((function(e){return e}),(function(a){var r=a.config,c=me.a.get("refresh_token");return c&&a.response&&401===a.response.status&&!r._retry?e?new Promise((function(e,n){t.push({resolve:e,reject:n})})).then((function(e){return r.headers.Authorization="Bearer "+e,ue()(r)})).catch((function(e){return e})):(r._retry=!0,e=!0,new Promise((function(t,a){ue.a.post("/v1/refresh_token",{refresh_token:c}).then((function(e){var a,c,i=e.data,o=i.auth.token,l=i.auth.refresh_token;a=o,c=l,me.a.set("refresh_token",c),me.a.set("token",a),ue.a.defaults.headers.common.Authorization="Bearer "+o,r.headers.Authorization="Bearer "+o,n(null,o),t(ue()(r))})).catch((function(e){n(e,null),a(e)})).then((function(){e=!1}))}))):Promise.reject(a)}))}();var be,Ee=n(229),we=n(230);function Oe(e){return"km"===e?Ee:we}function ye(e){return function(t){t({type:ne,payload:e})}}function je(e){return function(t){t({type:K,payload:null}),ge.fetchDashboardData(e).then((function(e){t({type:q,payload:e.data}),t({type:te,payload:null})})).catch((function(e){console.log(e),t({type:te,payload:null}),t({type:Y,payload:null})}))}}function ke(e){return function(t){t({type:X,payload:null}),ge.getLinks(e).then((function(e){t({type:J,payload:e.data})})).catch((function(e){console.log(e),t({type:$,payload:null})}))}}function Ne(e){return function(t){t({type:Z,payload:null}),ge.getContacts(e).then((function(e){t({type:Q,payload:e.data})})).catch((function(e){console.log(e),t({type:ee,payload:null})}))}}function xe(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"]);return xe=function(){return e},e}function _e(){var e=Object(v.a)(["\n  height: 20px;\n  width: 40px;\n"]);return _e=function(){return e},e}function De(){var e=Object(v.a)(["\n  display: flex;\n  align-items: center;\n"]);return De=function(){return e},e}function Fe(){var e=Object(v.a)(["\n  height: 40px;\n"]);return Fe=function(){return e},e}function Ce(){var e=Object(v.a)(["\n  height: 100%;\n  padding: 10px 20px;\n  max-width: 800px;\n"]);return Ce=function(){return e},e}function Le(){var e=Object(v.a)(["\n  background: #FFF;\n  background: transparent;\n  top: 0;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n"]);return Le=function(){return e},e}var Re=w.a.div(Le()),Ae=Object(w.a)(I.a)(Ce()),Se=w.a.img(Fe()),Ie=w.a.div(De()),Pe=w.a.img(_e()),Me=w.a.div(xe()),Te=Object(o.connect)((function(e){return{current_lang:e.intl.locale,isShowInstallBtn:e.commonReducers.isShowInstallBtn}}),{changeLanguage:function(e){return function(t){"km"!==e&&"en"!==e||(d.a.locale(e),t(Object(l.updateIntl)({locale:e,messages:Oe(e)})),function(e){me.a.set("locale",e)}(e))}},toggleInstallApp:ye})(be=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).toggle=function(){n.setState((function(e){return{open:!e.open}}))},n.handleInstall=function(){var e=window.deferredPrompt;e&&(e.prompt(),e.userChoice.then((function(e){console.log("\ud83d\udc4d","userChoice",e),window.deferredPrompt=null,n.props.toggleInstallApp({show:!1})})))},n.state={open:!1},n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"onChangeLang",value:function(e){e!==this.props.current_lang&&this.props.changeLanguage(e)}},{key:"_renderFlag",value:function(e,t){var n=this;return"en"===e?r.a.createElement(Ie,{onClick:function(){return n.onChangeLang("en")}},r.a.createElement(Pe,{src:H.a,alt:"English"}),r.a.createElement("b",null,t?"EN":"English")):r.a.createElement(Ie,{onClick:function(){return n.onChangeLang("km")}},r.a.createElement(Pe,{src:V.a,alt:"Khmer"}),r.a.createElement("b",null,t?"KH":"\u1781\u17d2\u1798\u17c2\u179a"))}},{key:"render",value:function(){var e=this.props,t=e.current_lang,n=e.isShowInstallBtn;return console.log(n),r.a.createElement(Re,null,r.a.createElement(Ae,{container:!0,spacing:0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(I.a,{item:!0,xs:4,sm:8},r.a.createElement(x.a,{to:"/"},r.a.createElement(Se,{src:G.a,alt:"kounissay"}))),r.a.createElement(I.a,{item:!0,xs:8,sm:4},r.a.createElement(Me,{className:""},r.a.createElement("div",null,n&&r.a.createElement(M.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(B.a,null),onClick:this.handleInstall},r.a.createElement(_.a,{id:"app.install",defaultMessage:"Install"}))),r.a.createElement(P.e,{open:this.state.open,toggle:this.toggle},r.a.createElement(P.h,{tag:"span"},this._renderFlag(t,!0)),r.a.createElement(P.g,{right:!0},r.a.createElement(P.f,null,this._renderFlag("km")),r.a.createElement(P.f,null,this._renderFlag("en"))))))))}}]),t}(r.a.Component))||be,Be=n(13),We=n(513),Ge=n(514),Ue=n(232),Ve=n.n(Ue),ze=n(233),He=n.n(ze),qe=n(235),Ke=n.n(qe),Ye=n(234),Je=n.n(Ye),Xe=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={page:""},n.handleChange=function(e,t){"home"===t?En.push("/"):En.push("/"+t)},n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this._updatePageState()}},{key:"componentDidMount",value:function(){this._updatePageState()}},{key:"_updatePageState",value:function(){var e=this.props.location.pathname,t="",n=!!Object(b.e)(e,{path:"/",exact:!0}),a=!!Object(b.e)(e,{path:"/news"}),r=!!Object(b.e)(e,{path:"/contacts"}),c=!!Object(b.e)(e,{path:"/links"});n?t="home":a?t="news":r?t="contacts":c&&(t="links"),this.setState({page:t})}},{key:"render",value:function(){var e=this.props.classes,t=this.state.page;return r.a.createElement(We.a,{value:t,onChange:this.handleChange,className:e.root},r.a.createElement(Ge.a,{label:r.a.createElement(_.a,{id:"app.home",defaultMessage:"Home"}),value:"home",icon:r.a.createElement(Ve.a,null),className:""}),r.a.createElement(Ge.a,{label:r.a.createElement(_.a,{id:"app.news",defaultMessage:"News"}),value:"news",icon:r.a.createElement(He.a,null)}),r.a.createElement(Ge.a,{label:r.a.createElement(_.a,{id:"app.links",defaultMessage:"Links"}),value:"links",icon:r.a.createElement(Je.a,null),className:""}),r.a.createElement(Ge.a,{label:r.a.createElement(_.a,{id:"app.contacts",defaultMessage:"Contacts"}),value:"contacts",icon:r.a.createElement(Ke.a,null),className:""}))}}]),t}(r.a.Component),$e=Object(Be.a)((function(){return{root:{width:"100%"}}}))(Object(b.f)(Xe));function Qe(){var e=Object(v.a)(["\n  display: flex;\n  flex: 1;\n  overflow: auto;\n  // padding: 10px 20px;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n"]);return Qe=function(){return e},e}function Ze(){var e=Object(v.a)(["\n  background: #f5f6f8;\n  width: 100%;\n  overflow: hidden;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n"]);return Ze=function(){return e},e}var et,tt=w.a.div(Ze()),nt=w.a.div(Qe()),at=function(e){var t=e.children;return r.a.createElement(tt,null,r.a.createElement(Te,null),r.a.createElement(nt,null,t),r.a.createElement($e,null))},rt=n(126),ct=n.n(rt),it=n(31),ot=n.n(it);function lt(){var e=Object(v.a)(["\n  font-size: 1em;\n"]);return lt=function(){return e},e}var st,ut=Object(w.a)(P.c)(lt()),dt=Object(o.connect)((function(e){return{summary:e.dashboardReducers.summary}}),{})(et=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.summary;return ot()(e)?r.a.createElement("div",null):r.a.createElement(P.i,null,r.a.createElement(P.d,{xs:"6",md:"3",className:"mb-3"},r.a.createElement(P.a,{className:"p-0",theme:""},r.a.createElement(P.b,{className:"p-4 text-center"},r.a.createElement(ut,{className:"text-danger"},r.a.createElement(_.a,{id:"case.confirmed",defaultMessage:"CONFIRMED"})),r.a.createElement("h2",{className:"text-danger mb-0"},e.confirmed)))),r.a.createElement(P.d,{xs:"6",md:"3",className:"mb-3"},r.a.createElement(P.a,{className:"p-0"},r.a.createElement(P.b,{className:"p-4 text-center text-primary"},r.a.createElement(ut,{className:"text-primary"},r.a.createElement(_.a,{id:"case.active",defaultMessage:"ACTIVE"})),r.a.createElement("h2",{className:"text-primary mb-0"},e.active)))),r.a.createElement(P.d,{xs:"6",md:"3",className:"mb-3"},r.a.createElement(P.a,{className:"p-0"},r.a.createElement(P.b,{className:"p-4 text-center"},r.a.createElement(ut,{className:"text-success"},r.a.createElement(_.a,{id:"case.recovered",defaultMessage:"RECOVERED"})),r.a.createElement("h2",{className:"text-success mb-0"},e.recovered)))),r.a.createElement(P.d,{xs:"6",md:"3",className:"mb-3"},r.a.createElement(P.a,{className:"p-0"},r.a.createElement(P.b,{className:"p-4 text-center"},r.a.createElement(ut,null,r.a.createElement(_.a,{id:"case.dead",defaultMessage:"DEAD"})),r.a.createElement("h2",{className:"mb-0"},e.dead)))))}}]),t}(r.a.Component))||et,mt=n(520),pt=n(521),ht=n(517),ft=n(518),gt=n(515),vt=n(516),bt=n(525),Et=n(519),wt=n(170),Ot=n.n(wt),yt=[{id:"province",numeric:!1,className:""},{id:"confirmed",numeric:!0,className:"text-danger"},{id:"active",numeric:!0,className:"text-primary"},{id:"recovered",numeric:!0,className:"text-success"},{id:"dead",numeric:!0,className:""}];function jt(e){var t=e.order,n=e.orderField,a=e.onRequestSort;return r.a.createElement(gt.a,null,r.a.createElement(vt.a,null,yt.map((function(e){return r.a.createElement(ht.a,{key:e.id,align:e.numeric?"right":"left",padding:"default",sortDirection:n===e.id&&t},r.a.createElement(bt.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(c=e.id,function(e){a(e,c)}),className:e.className},r.a.createElement(_.a,{id:"label.".concat(e.id),defaultMessage:""}),n===e.id?r.a.createElement("span",{className:""},""):null));var c}))))}var kt=Object(o.connect)((function(e){return{provinces:e.dashboardReducers.provinces,locale:e.intl.locale}}),{})(st=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={order:"desc",orderField:"confirmed"},n.handleRequestSort=function(e,t){var a=n.state,r=a.orderField,c=a.order,i=r===t&&"asc"===c;n.setState({order:i?"desc":"asc"}),n.setState({orderField:t})},n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"renderName",value:function(e){return"en"!==this.props.locale||ot()(e.province_en)?e.province:e.province_en}},{key:"render",value:function(){var e=this,t=this.props,n=t.provinces,a=t.locale,c=this.state,i=c.orderField,o=c.order;return ot()(n)?r.a.createElement("div",null):(n="en"===a&&"province"===i?Ot()(n,"".concat(i,"_en"),o):Ot()(n,i,o),r.a.createElement(ft.a,{component:Et.a},r.a.createElement(mt.a,{"aria-label":"simple table"},r.a.createElement(jt,{order:o,orderField:i,onRequestSort:this.handleRequestSort,rowCount:n.length}),r.a.createElement(pt.a,null,n.map((function(t){return r.a.createElement(vt.a,{key:t.province},r.a.createElement(ht.a,{component:"th",scope:"row"},e.renderName(t)),r.a.createElement(ht.a,{align:"right",className:"text-danger"},t.confirmed),r.a.createElement(ht.a,{align:"right",className:"text-primary"},t.active),r.a.createElement(ht.a,{align:"right",className:"text-success"},t.recovered),r.a.createElement(ht.a,{align:"right"},t.dead))}))))))}}]),t}(r.a.Component))||st;function Nt(){var e=Object(v.a)(["\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n"]);return Nt=function(){return e},e}var xt,_t=w.a.div(Nt()),Dt=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.className;return r.a.createElement(_t,{className:"".concat(n," container")},!t&&r.a.createElement("h4",null,r.a.createElement(_.a,{id:"app.no_records",defaultMessage:"No Record"})),t&&r.a.createElement("img",{className:"loader__image",src:y.a,alt:"loading"}))}}]),t}(r.a.Component);function Ft(){var e=Object(v.a)(["\n"]);return Ft=function(){return e},e}var Ct,Lt=w.a.div(Ft()),Rt=Object(o.connect)((function(e){return{lastFetchAt:e.dashboardReducers.lastFetchAt,isFetching:e.dashboardReducers.isFetching}}),{})(xt=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.lastFetchAt;return e.isFetching?r.a.createElement(Dt,{isFetching:!0}):r.a.createElement(Lt,{className:"container"},t&&r.a.createElement("div",{className:"text-right"},r.a.createElement("p",{className:"mb-1 mr-2"},r.a.createElement(_.a,{id:"app.updated_at",defaultMessage:"Updated:"}),r.a.createElement("span",{className:"text-success"},r.a.createElement(ct.a,{fromNow:!0},t)))),r.a.createElement(dt,null),r.a.createElement(kt,null))}}]),t}(r.a.Component))||xt;function At(){var e=Object(v.a)(["\n  overflow: auto;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n"]);return At=function(){return e},e}var St,It=w.a.div(At()),Pt=Object(o.connect)((function(e){return{links:e.linkReducers.links,isFetching:e.linkReducers.isFetching}}),{})(Ct=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.links,n=e.isFetching;return ot()(t)?r.a.createElement(Dt,{isFetching:n,className:"bg-white"}):r.a.createElement(It,{className:"container bg-white"},t.map((function(e,t){return r.a.createElement("div",{className:"p-3 border rounded mt-3 text-break",key:t},r.a.createElement("h5",{className:"mb-0"},e.title),r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},e.link))})))}}]),t}(r.a.Component))||Ct;function Mt(){var e=Object(v.a)(["\n  overflow: auto;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n"]);return Mt=function(){return e},e}var Tt=w.a.div(Mt()),Bt=Object(o.connect)((function(e){return{contacts:e.contactReducers.contacts,isFetching:e.contactReducers.isFetching}}),{})(St=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"renderContactList",value:function(e){return r.a.createElement("ul",null,e.data.map((function(e,t){return"link"===e.type?r.a.createElement("li",{key:t},r.a.createElement("a",{href:e.text,target:"_blank",rel:"noopener noreferrer"},e.text)):r.a.createElement("li",{key:t},e.text)})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.contacts,a=t.isFetching;return ot()(n)?r.a.createElement(Dt,{isFetching:a,className:"bg-white"}):r.a.createElement(Tt,{className:"container bg-white"},n.map((function(t,n){return r.a.createElement("div",{className:"p-3 border rounded mt-3 text-break",key:n},r.a.createElement("h5",{className:"mb-2"},t.name),e.renderContactList(t))})))}}]),t}(r.a.Component))||St;var Wt,Gt=n(523),Ut=n(236),Vt=n.n(Ut),zt=n(522),Ht=n(90);function qt(e){return function(t){t({type:re,payload:e})}}function Kt(e){return void 0!==(e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?e[2].split(/[^0-9a-z_-]/i)[0]:e}function Yt(){var e=Object(v.a)(["\n  position: relative;\n  .loader__image {\n    position: absolute;\n    top: 40%;\n    left: 40%;\n  }\n  position: relative;\n  min-height: 120px;\n  iframe {\n    max-width: 100%;\n  }\n"]);return Yt=function(){return e},e}function Jt(){var e=Object(v.a)(["\n  padding: 15px;\n"]);return Jt=function(){return e},e}function Xt(){var e=Object(v.a)(["\n  padding: 15px;\n"]);return Xt=function(){return e},e}function $t(){var e=Object(v.a)(["\n  display: flex;\n  flex: 1;\n  width: 100%;\n  justify-content: space-between;\n"]);return $t=function(){return e},e}var Qt,Zt=w.a.div($t()),en=w.a.div(Xt()),tn=w.a.h5(Jt()),nn=w.a.div(Yt()),an=Object(o.connect)((function(e){return{newsDetail:e.newsReducers.newsDetail,newDrawerOpen:e.dialogReducers.newDrawerOpen}}),{toggleNewsDrawer:qt})(Wt=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).toggleDrawer=function(){n.props.toggleNewsDrawer({open:!1})},n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"renderFBEmbeded",value:function(){var e=this.props.newsDetail;return ot()(e.link)?r.a.createElement("div",null):r.a.createElement("div",{className:""},r.a.createElement(nn,{className:"text-center mb-2"},r.a.createElement("img",{className:"loader__image",src:y.a,alt:"loading"}),r.a.createElement(Ht.FacebookProvider,{appId:"466260074169181"},r.a.createElement(Ht.EmbeddedPost,{href:e.link,showText:"false",width:"auto"}))))}},{key:"renderVideo",value:function(){var e=this.props.newsDetail;if(ot()(e.link))return r.a.createElement("div",null);var t=Kt(e.link);return ot()(t)?r.a.createElement("div",null):r.a.createElement("div",{className:"text-center mb-2"},r.a.createElement("div",{className:"video",style:{position:"relative",paddingBottom:"56.25%",paddingTop:25,height:0}},r.a.createElement("iframe",{title:"youtube embeded",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},src:"https://www.youtube.com/embed/".concat(t),frameBorder:"0"})))}},{key:"render",value:function(){var e=this.props,t=e.newDrawerOpen,n=e.newsDetail;return ot()(n)?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement(Gt.a,{anchor:"right",open:t,onClose:this.toggleDrawer,classes:{paper:"news-detail-drawer"},className:"drawer-wrapper"},r.a.createElement("div",null,r.a.createElement(Zt,null,r.a.createElement(tn,null,n.title),r.a.createElement("div",null,r.a.createElement(zt.a,{"aria-label":"show 4 new mails",color:"inherit",onClick:this.toggleDrawer},r.a.createElement(Vt.a,null)))),r.a.createElement(en,null,"facebook_post"===n.type&&this.renderFBEmbeded(),"video"===n.type&&this.renderVideo(),r.a.createElement("p",null,n.description)))))}}]),t}(r.a.Component))||Wt,rn=n(92),cn=n.n(rn);function on(){var e=Object(v.a)(["\n"]);return on=function(){return e},e}function ln(){var e=Object(v.a)(["\n  position: relative;\n  .loader__image {\n    position: absolute;\n    top: 40%;\n    left: 40%;\n  }\n  .post-backdrop {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n  }\n  position: relative;\n  min-height: 120px;\n  iframe {\n    max-width: 100%;\n  }\n"]);return ln=function(){return e},e}var sn,un=w.a.div(ln()),dn=w.a.div(on()),mn=Object(o.connect)((function(){return{}}),{toggleNewsDrawer:qt,setNewsDetail:function(e){return function(t){t({type:le,payload:{news:e}})}}})(Qt=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=n.props.news;n.props.setNewsDetail(e),n.props.toggleNewsDrawer({open:!0})},n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"renderPublishDate",value:function(){var e=this.props.news;return ot()(e.publish_date)?r.a.createElement("div",null):r.a.createElement(dn,{className:"text-muted"},r.a.createElement(ct.a,{format:"hh:mm MMMM DD, YYYY"},"1976-04-19T12:59-0500"))}},{key:"renderFBEmbeded",value:function(){var e=this.props.news;return ot()(e.link)?r.a.createElement("div",null):r.a.createElement("div",{className:"cursor-pointer p-3 border rounded mt-3 text-break",onClick:this.handleClick},r.a.createElement(P.i,{noGutters:!0},r.a.createElement(P.d,{sm:"6",md:"6",lg:"4"},r.a.createElement(un,{className:"text-center mb-2"},r.a.createElement("img",{className:"loader__image",src:y.a,alt:"loading"}),r.a.createElement(Ht.FacebookProvider,{appId:"466260074169181"},r.a.createElement(Ht.EmbeddedPost,{href:e.link,showText:"false",width:"auto"})),r.a.createElement("div",{className:"post-backdrop"}))),r.a.createElement(P.d,{sm:"6",md:"6",lg:"8"},r.a.createElement("div",{className:"pl-2"},r.a.createElement("h5",{className:"mb-1"},r.a.createElement(cn.a,{text:e.title,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"})),r.a.createElement(cn.a,{text:e.description,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"}),this.renderPublishDate()))))}},{key:"renderVideo",value:function(){var e=this.props.news;if(ot()(e.link))return r.a.createElement("div",null);var t=Kt(e.link);return ot()(t)?r.a.createElement("div",null):r.a.createElement("div",{className:"cursor-pointer p-3 border rounded mt-3 text-break",onClick:this.handleClick},r.a.createElement(P.i,{noGutters:!0},r.a.createElement(P.d,{sm:"6",md:"6",lg:"4"},r.a.createElement("div",{className:"text-center mb-2"},r.a.createElement("img",{src:"https://img.youtube.com/vi/".concat(t,"/mqdefault.jpg"),className:"img-fluid",alt:e.title}))),r.a.createElement(P.d,{sm:"6",md:"6",lg:"8"},r.a.createElement("div",{className:"pl-2"},r.a.createElement("h5",{className:"mb-1"},r.a.createElement(cn.a,{text:e.title,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"})),r.a.createElement(cn.a,{text:e.description,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"}),this.renderPublishDate()))))}},{key:"render",value:function(){var e=this.props.news;return"video"===e.type?this.renderVideo():"facebook_post"===e.type?this.renderFBEmbeded():r.a.createElement("div",{className:"cursor-pointer p-3 border rounded mt-3 text-break",onClick:this.handleClick},r.a.createElement("h5",{className:"mb-1"},e.title),r.a.createElement("div",{className:"mb-1"},r.a.createElement(cn.a,{text:e.description,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"}),this.renderPublishDate()))}}]),t}(r.a.Component))||Qt;function pn(){var e=Object(v.a)(["\n  overflow: auto;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n"]);return pn=function(){return e},e}var hn,fn=w.a.div(pn()),gn=Object(o.connect)((function(e){return{newsList:e.newsReducers.newsList,isFetching:e.newsReducers.isFetching}}),{fetchNewsList:function(e){return function(t){t({type:ie,payload:null}),ve.fetchNewsList(e).then((function(e){t({type:ce,payload:e.data})})).catch((function(e){console.log(e),t({type:oe,payload:null})}))}}})(sn=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){n.props.fetchNewsList()},n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.newsList,n=e.isFetching;return ot()(t)?r.a.createElement(Dt,{isFetching:n,className:"bg-white"}):r.a.createElement(fn,{className:"container bg-white"},t.map((function(e,t){return r.a.createElement(mn,{news:e,key:t})})),r.a.createElement(an,null))}}]),t}(r.a.Component))||sn,vn=[{path:"/",plublic:!0,exact:!0,layout:at,component:Rt,allowRoles:ae.normalPermission},{path:"/news",plublic:!0,exact:!0,layout:at,component:gn,allowRoles:ae.normalPermission},{path:"/links",plublic:!0,exact:!0,layout:at,component:Pt,allowRoles:ae.normalPermission},{path:"/contacts",plublic:!0,exact:!0,layout:at,component:Bt,allowRoles:ae.normalPermission}];function bn(){var e=Object(v.a)([""]);return bn=function(){return e},e}var En=Object(E.a)(),wn=w.a.div(bn()),On=Object(o.connect)((function(e){return{isOnboarding:e.commonReducers.isOnboarding}}),{})(hn=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){document.title="\u1780\u17bc\u179c\u17b8\u178a\u17e1\u17e9\u1781\u17d2\u1798\u17c2\u179a"}},{key:"render",value:function(){return this.props.isOnboarding?r.a.createElement(N,null):r.a.createElement(b.b,{history:En},r.a.createElement(wn,null,r.a.createElement(S,null),r.a.createElement(b.c,null,vn.map((function(e,t){return r.a.createElement(b.a,{key:t,path:e.path,exact:e.exact,component:function(t){return r.a.createElement(e.layout,t,r.a.createElement(e.component,t))}})})),r.a.createElement(b.a,{component:C}))))}}]),t}(r.a.Component))||hn,yn=n(51),jn=n(171),kn=n(237),Nn=n(524),xn=n(172),_n=n(238),Dn=n.n(_n),Fn=n(239),Cn=n.n(Fn);var Ln=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||yn.d,Rn=[kn.a,jn.batch],An=Ln(yn.a.apply(void 0,Rn)),Sn=Object(yn.c)({commonReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOnline:!1,isNewVersion:!1,isOnboarding:!0,isShowInstallBtn:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(fe.a)({},e,{isOnboarding:!1});case ne:var n=t.payload.show;return Object(fe.a)({},e,{isShowInstallBtn:n});default:return e}},dialogReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{newDrawerOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:var n=t.payload.open;return Object(fe.a)({},e,{newDrawerOpen:n});default:return e}},dashboardReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{summary:null,provinces:[],lastFetchAt:null,isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(fe.a)({},e,{isFetching:!0});case Y:return Object(fe.a)({},e,{isFetching:!1});case q:var n=t.payload,a=n.summary,r=n.provinces,c=n.last_fetch_at;return Object(fe.a)({},e,{summary:a,provinces:r,lastFetchAt:c,isFetching:!1});default:return e}},linkReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{links:[],isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(fe.a)({},e,{isFetching:!0});case $:return Object(fe.a)({},e,{isFetching:!1});case J:var n=t.payload.links;return Object(fe.a)({},e,{links:n,isFetching:!1});default:return e}},contactReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{contacts:[],isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(fe.a)({},e,{isFetching:!0});case ee:return Object(fe.a)({},e,{isFetching:!1});case Q:var n=t.payload.contacts;return Object(fe.a)({},e,{contacts:n,isFetching:!1});default:return e}},newsReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{newsList:[],newsDetail:null,isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(fe.a)({},e,{isFetching:!0});case oe:return Object(fe.a)({},e,{isFetching:!1});case ce:var n=t.payload.news_list;return Object(fe.a)({},e,{newsList:n,isFetching:!1});case le:var a=t.payload.news;return Object(fe.a)({},e,{newsDetail:a});default:return e}},form:Nn.a,intl:l.intlReducer}),In={key:"root",storage:Dn.a,stateReconciler:Cn.a,blacklist:["commonReducers"]},Pn=Object(xn.a)(In,Object(jn.batching)(Sn)),Mn=(n(463),n(464),n(465),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function Tn(e,t){navigator.serviceWorker.register(e).then((function(e){e.waiting?t&&t.onWaiting&&t.onWaiting(e):e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(466),n(469),n(472),n(473);n.d(t,"store",(function(){return Un})),n.d(t,"persistor",(function(){return Vn}));var Bn=me.a.get("locale")||"en",Wn={intl:{defaultLocale:"en",locale:Bn,messages:Oe(Bn)}};d.a.locale(Bn);var Gn=function(e){var t=Object(yn.e)(Pn,e,An);return{store:t,persistor:Object(xn.b)(t)}}(Wn),Un=Gn.store,Vn=Gn.persistor;Un.dispatch(je()),Un.dispatch(ke()),Un.dispatch(Ne()),setInterval((function(){Un.dispatch(je()),Un.dispatch(ke()),Un.dispatch(Ne())}),3e5);var zn=r.a.createElement(o.Provider,{store:Un},r.a.createElement(s.PersistGate,{loading:r.a.createElement(N,null),persistor:Vn},r.a.createElement(l.IntlProvider,null,r.a.createElement(On,null))));i.a.render(zn,document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/sw.js");Mn?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Tn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Tn(t,e)})),navigator.serviceWorker.addEventListener("controllerchange",(function(){window.location.reload()}))}}({onWaiting:function(e){e.waiting.postMessage({action:"skipWaiting"})},onUpdate:function(e){e.waiting.postMessage({action:"skipWaiting"})},onSuccess:function(e){}}),window.addEventListener("beforeinstallprompt",(function(e){console.log("\ud83d\udc4d","beforeinstallprompt"),window.deferredPrompt=e,setTimeout((function(){console.log("isShowInstallBtn"),window.deferredPrompt&&Un.dispatch(ye({show:!0}))}),5e3)})),window.addEventListener("appinstalled",(function(e){console.log("\ud83d\udc4d","appinstalled"),window.deferredPrompt=null,Un.dispatch(ye({show:!1}))}))},69:function(e,t,n){e.exports=n.p+"static/media/oval.0aba2b33.svg"}},[[245,1,2]]]);
//# sourceMappingURL=main.3afa8833.chunk.js.map