{"version":3,"sources":["images/full_logo.svg","images/kh_flag.svg","images/gb_flag.svg","screens/LoadingPage.jsx","screens/NotFoundPage.jsx","components/OfflineAlert.jsx","constants/common.constants.js","constants/permission.constants.js","constants/dialog.constants.js","constants/news.constants.js","services/common.service.js","services/news.service.js","services/defaultHeader.js","store/tokenStore.js","services/index.js","services/createAxiosResponseInterceptor.js","locale-data/index.js","actions/common.actions.js","components/PublicHeader.jsx","store/locale.js","components/PublicFooter.jsx","layouts/Public.jsx","components/Overview.jsx","components/Provinces.jsx","components/NoRecord.jsx","screens/HomePage.jsx","screens/LinksPage.jsx","screens/ContactsPage.jsx","actions/dialog.actions.js","helpers/youtubeID.js","components/NewsDetailDrawer.jsx","components/News.jsx","actions/news.actions.js","screens/NewsPage.jsx","routers/pageRoutes.jsx","routers/AppRouter.jsx","store/configureStore.js","reducers/commonReducers.js","reducers/dialogReducers.js","reducers/dashboardReducers.js","reducers/linkReducers.js","reducers/contactReducers.js","reducers/newsReducers.js","serviceWorker.js","index.jsx","images/oval.svg"],"names":["module","exports","Container","styled","div","LoadingPage","className","src","loader","alt","NotFoundPage","id","defaultMessage","to","OfflineAlert","polling","url","React","Component","commonConstants","permissionConstants","normalPermission","moderatorPermission","adminPermission","dialogConstants","newsConstants","commonService","fetchDashboardData","options","axios","get","params","getLinks","getContacts","newsService","fetchNewsList","fetchNewsDetail","token","cookie","uuid","sessionUUID","sessionStorage","getItem","setItem","getSessionUUID","defaults","baseURL","headers","common","defaultHeader","isRefreshing","failedQueue","processQueue","error","forEach","prom","reject","resolve","interceptors","response","use","originalRequest","config","refreshToken","status","_retry","Promise","push","then","catch","err","post","refresh_token","data","newToken","auth","newRefreshToken","set","createAxiosResponseInterceptor","getLocaleData","lang","km","en","dispatch","type","payload","console","log","Header","GridContainer","Grid","LogoImage","img","LangItem","LangFlag","RightNav","PublicHeader","connect","store","current_lang","intl","locale","changeLanguage","Moment","updateIntl","messages","setLocale","props","toggle","setState","prevState","open","state","this","isSort","onClick","onChangeLang","gb_flag","kh_flag","container","spacing","direction","justify","alignItems","item","xs","sm","logo","tag","_renderFlag","right","Footer","page","handleChange","event","newPage","history","prevProps","location","pathname","_updatePageState","isHome","matchPath","path","exact","isNews","isContacts","isLinks","classes","BottomNavigation","value","onChange","root","BottomNavigationAction","label","icon","withStyles","width","withRouter","PublicContainer","Body","PublicLayout","children","PublicFooter","Title","CardTitle","Overview","summary","dashboardReducers","isEmpty","md","theme","confirmed","active","recovered","dead","headCells","numeric","EnhancedTableHead","order","orderField","onRequestSort","TableHead","TableRow","map","headCell","TableCell","key","align","padding","sortDirection","TableSortLabel","property","Provinces","provinces","handleRequestSort","isAsc","row","province_en","province","orderBy","TableContainer","component","Paper","Table","aria-label","rowCount","length","TableBody","scope","renderName","NoRecord","isFetching","HomePage","lastFetchAt","fromNow","LinksPage","links","linkReducers","link","index","title","href","target","rel","ContactsPage","contacts","contactReducers","contact","elm","i","text","name","renderContactList","toggleNewsDrawer","getYouTubeID","undefined","replace","split","h5","FacebookWraper","NewsDetailDrawer","newsDetail","newsReducers","newDrawerOpen","dialogReducers","toggleDrawer","appId","showText","videoId","style","position","paddingBottom","paddingTop","height","top","left","frameBorder","Drawer","anchor","onClose","paper","IconButton","color","renderFBEmbeded","renderVideo","description","PostDate","News","setNewsDetail","news","handleClick","publish_date","format","noGutters","lg","maxLine","ellipsis","trimRight","basedOn","renderPublishDate","NewsPage","newsList","componentDidMount","plublic","layout","allowRoles","createBrowserHistory","AppRouter","isOnboarding","commonReducers","document","pageRoutes","route","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middleware","thunk","batch","enhancers","applyMiddleware","appReducer","combineReducers","isOnline","isNewVersion","action","last_fetch_at","news_list","form","formReducer","intlReducer","persistConfig","storage","stateReconciler","autoMergeLevel2","pReducer","persistReducer","batching","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","waiting","onWaiting","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","localLang","initialState","defaultLocale","createStore","persistor","persistStore","configureStore","setInterval","jsx","loading","ReactDOM","render","getElementById","URL","process","origin","addEventListener","fetch","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker","worker","postMessage","args","isTooSoon","e","preventDefault","setTimeout","prompt","evt"],"mappings":"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","file":"static/js/main.af06e94a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/full_logo.bd01e22a.svg\";","module.exports = __webpack_public_path__ + \"static/media/kh_flag.5a13865d.svg\";","module.exports = __webpack_public_path__ + \"static/media/gb_flag.d3ddd602.svg\";","import React from 'react';\nimport styled from 'styled-components';\n\nimport loader from '../images/oval.svg';\n\nconst Container = styled.div`\n  width: 100%;\n  height: 100vh;\n  flex: 1;\n  display: flex;\n  justify-content: center;\n`;\nconst LoadingPage = () => (\n  <Container>\n    <img className=\"loader__image\" src={loader} alt=\"loading\" />\n  </Container>\n);\n\nexport default LoadingPage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FormattedMessage } from 'react-intl';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  display: flex;\n  flex: 1;\n  height: 100vh;\n  align-items: center;\n  justify-content: center;\n  .top-title {\n    color: #cacedb;\n    font-weight: 700;\n    font-size: 3.75rem;\n  }\n  .main-title {\n    font-weight: 500;\n    font-size: 2.1875rem;\n    margin-bottom: .625rem;\n  }\n  .blurb {\n    color: #818ea3;\n  }\n`;\n\nconst NotFoundPage = () => (\n  <Container className=\"not-found-container\">\n    <div className=\"content\">\n      <div className=\"inner-wrapper\">\n        <div className=\"top-title\"><FormattedMessage id=\"errors.oop\" defaultMessage=\"OOP!\" /></div>\n        <div className=\"main-title\">\n          <FormattedMessage id=\"errors.404\" defaultMessage=\"404\" />\n        </div>\n      </div>\n\n      <p className=\"blurb\">\n        <FormattedMessage id=\"errors.page_not_found_des\" defaultMessage=\"The page you were looking for doesn't exist.\" />\n        <br/>\n      </p>\n\n      <div className=\"text-center\">\n        <Link to=\"/\" className=\"btn btn-primary btn-sm\"><FormattedMessage id=\"links.go_home\" defaultMessage=\"Go home\" /></Link>\n      </div>\n\n    </div>\n\n  </Container>\n);\n\nexport default NotFoundPage;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { FormattedMessage } from 'react-intl';\nimport { Offline } from \"react-detect-offline\";\n\nconst Container = styled.div`\n  position: fixed;\n  padding: 10px 15px;\n  background: #181e1e;\n  color: #FFF;\n  opacity: 0.8;\n  left: 40%;\n  top: 8px;\n`;\n\nclass OfflineAlert extends React.Component {\n  render() {\n    return (\n      <Offline polling={{url: \"/favicon.ico\"}}>\n        <Container>\n          <FormattedMessage id=\"app.offline\" defaultMessage=\"No internet\" />\n        </Container>\n      </Offline>\n    );\n  }\n}\n\nexport default OfflineAlert;\n","export const commonConstants = {\n  DASHBOARD_LOADED: 'DASHBOARD_LOADED',\n  LOADING_DASHBOARD: 'LOADING_DASHBOARD',\n  DASHBOARD_FAILED: 'DASHBOARD_FAILED',\n\n  LINKS_LOADED: 'LINKS_LOADED',\n  LOADING_LINKS: 'LOADING_LINKS',\n  LINKS_FAILED: 'LINKS_FAILED',\n\n  CONTACTS_LOADED: 'CONTACTS_LOADED',\n  LOADING_CONTACTS: 'LOADING_CONTACTS',\n  CONTACTS_FAIL: 'CONTACTS_FAIL',\n\n  SYS_LOADING_COMPLETE: 'SYS_LOADING_COMPLETE',\n  FETCHING_DATA: 'FETCHING_DATA',\n  FETCHED_DATA: 'FETCHED_DATA'\n};\n","export const permissionConstants = {\n  normalPermission: ['guest', 'student', 'staff', 'admin'],\n  moderatorPermission: ['staff', 'admin'],\n  adminPermission: ['admin']\n};\n","export const dialogConstants = {\n  TOGGLE_NEWS_DRAWER: 'TOGGLE_NEWS_DRAWER'\n};\n","export const newsConstants = {\n  NEWS_LIST_LOADED: 'NEWS_LIST_LOADED',\n  LOADING_NEWS_LIST: 'LOADING_NEWS_LIST',\n  NEWS_LIST_FAILED: 'NEWS_LIST_FAILED',\n  SET_NEWS_DETAIL: 'SET_NEWS_DETAIL'\n};\n","import axios from \"axios\";\n\nexport const commonService = {\n  fetchDashboardData,\n  getLinks,\n  getContacts,\n};\n\nfunction fetchDashboardData(options) {\n  return axios.get(\"/v1/dashboard\",\n    {params: { ...options }});\n}\n\nfunction getLinks(options) {\n  return axios.get(\"/v1/links\",\n    {params: { ...options }});\n}\n\nfunction getContacts(options) {\n  return axios.get(\"/v1/contacts\",\n    {params: { ...options }});\n}\n","import axios from \"axios\";\n\nexport const newsService = {\n  fetchNewsList,\n  fetchNewsDetail,\n};\n\nfunction fetchNewsList(options) {\n  return axios.get(\"/v1/news_list\",\n    {params: { ...options }});\n}\n\nfunction fetchNewsDetail(id) {\n  return axios.get(\"/v1/news_detail\" + id);\n}\n","import axios from \"axios\";\nimport { getAccessToken, getSessionUUID } from '../store/tokenStore';\n\nexport function defaultHeader() {\n  const token = getAccessToken();\n  const uuid = getSessionUUID();\n  axios.defaults.baseURL = 'http://localhost:3000';\n  axios.defaults.headers.common['Content-Type'] = 'application/json';\n  axios.defaults.headers.common['Accept'] = 'application/json';\n  axios.defaults.headers.common['UUID'] = uuid;\n  if (token !== null) {\n    axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n  }\n}\n","import cookie from 'js-cookie';\nimport uuid  from 'uuid/v4';\n\nexport function setTokens(token, refresh_token) {\n  cookie.set('refresh_token', refresh_token);\n  cookie.set('token', token);\n  // localStorage.setItem('refresh_token', refresh_token);\n  // localStorage.setItem('token', token);\n}\n\nexport function setToken(token) {\n  cookie.set('token', token);\n  // localStorage.setItem('token', token);\n}\n\nexport function getAccessToken() {\n  return cookie.get('token')\n  // return localStorage.getItem('token')\n}\n\nexport function getRefreshToken() {\n  return cookie.get('refresh_token')\n  // return localStorage.getItem('refresh_token')\n}\n\nexport function removeTokens() {\n  cookie.remove('refresh_token');\n  cookie.remove('token');\n  // localStorage.removeItem('refresh_token')\n  // localStorage.removeItem('token')\n}\n\nexport function getSessionUUID() {\n  let sessionUUID = sessionStorage.getItem(\"uuid\");\n  if(sessionUUID) {\n    return sessionUUID;\n  }\n\n  // generate uuid\n  sessionUUID = uuid();\n  sessionStorage.setItem(\"uuid\", sessionUUID);\n  return sessionUUID;\n}\n","import { defaultHeader } from './defaultHeader';\nimport {createAxiosResponseInterceptor} from './createAxiosResponseInterceptor';\nexport * from './common.service';\nexport * from './news.service';\n\ndefaultHeader();\ncreateAxiosResponseInterceptor();\n","import axios from \"axios\";\nimport { getRefreshToken, setTokens } from '../store/tokenStore';\n\nexport function createAxiosResponseInterceptor() {\n  // for multiple requests\n  let isRefreshing = false;\n  let failedQueue = [];\n\n  const processQueue = (error, token = null) => {\n    failedQueue.forEach(prom => {\n      if (error) {\n        prom.reject(error);\n      } else {\n        prom.resolve(token);\n      }\n    })\n\n    failedQueue = [];\n  }\n\n  axios.interceptors.response.use(function (response) {\n    return response;\n  }, function (error) {\n\n    const originalRequest = error.config;\n\n    const refreshToken = getRefreshToken();\n    if (refreshToken && error.response && error.response.status === 401 && !originalRequest._retry) {\n\n      if (isRefreshing) {\n        return new Promise(function(resolve, reject) {\n          failedQueue.push({resolve, reject})\n        }).then(token => {\n          originalRequest.headers['Authorization'] = 'Bearer ' + token;\n          return axios(originalRequest);\n        }).catch(err => {\n          return err\n        })\n      }\n\n      originalRequest._retry = true;\n      isRefreshing = true;\n\n      return new Promise(function (resolve, reject) {\n         axios.post('/v1/refresh_token', { refresh_token: refreshToken })\n          .then(({data}) => {\n            const newToken = data.auth.token;\n            const newRefreshToken = data.auth.refresh_token;\n            setTokens(newToken, newRefreshToken)\n            axios.defaults.headers.common['Authorization'] = 'Bearer ' + newToken;\n            originalRequest.headers['Authorization'] = 'Bearer ' + newToken;\n            processQueue(null, newToken);\n            resolve(axios(originalRequest));\n          })\n          .catch((err) => {\n            processQueue(err, null);\n            reject(err);\n          })\n          .then(() => { isRefreshing = false })\n      })\n    }\n\n    return Promise.reject(error);\n  });\n}\n","import km from \"./km.json\";\nimport en from \"./en.json\";\n\nexport function getLocaleData(lang) {\n  if(lang === \"km\") {\n    return km;\n  }\n\n  return en;\n}\n","import Moment from 'moment';\nimport { updateIntl } from 'react-intl-redux';\n\nimport { commonConstants } from '../constants';\nimport { commonService } from '../services';\nimport {setLocale}         from '../store/locale';\nimport {getLocaleData}         from '../locale-data';\n\nexport function changeLanguage(lang) {\n  return function(dispatch) {\n    if(lang === 'km' || lang === 'en') {\n      Moment.locale(lang);\n      dispatch(updateIntl({\n        locale: lang,\n        messages: getLocaleData(lang)\n      }));\n      setLocale(lang);\n    }\n  }\n}\n\nexport function fetchDashboardData(options) {\n  return function(dispatch) {\n    dispatch({type: commonConstants.LOADING_DASHBOARD, payload: null});\n    commonService.fetchDashboardData(options)\n      .then((response) => {\n        dispatch({type: commonConstants.DASHBOARD_LOADED, payload: response.data});\n        dispatch({type: commonConstants.SYS_LOADING_COMPLETE, payload: null});\n      })\n      .catch((err) => {\n        console.log(err);\n        dispatch({type: commonConstants.SYS_LOADING_COMPLETE, payload: null});\n        dispatch({type: commonConstants.DASHBOARD_FAILED, payload: null});\n      });\n\n  }\n}\n\nexport function getLinks(options) {\n  return function(dispatch) {\n    dispatch({type: commonConstants.LOADING_LINKS, payload: null});\n    commonService.getLinks(options)\n      .then((response) => {\n        dispatch({type: commonConstants.LINKS_LOADED, payload: response.data});\n      })\n      .catch((err) => {\n        console.log(err);\n        dispatch({type: commonConstants.LINKS_FAILED, payload: null});\n      });\n  }\n}\n\nexport function getContacts(options) {\n  return function(dispatch) {\n    dispatch({type: commonConstants.LOADING_CONTACTS, payload: null});\n    commonService.getContacts(options)\n      .then((response) => {\n        dispatch({type: commonConstants.CONTACTS_LOADED, payload: response.data});\n      })\n      .catch((err) => {\n        console.log(err);\n        dispatch({type: commonConstants.CONTACTS_FAIL, payload: null});\n      });\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport Grid from '@material-ui/core/Grid';\nimport { Link } from 'react-router-dom';\nimport {\n  Dropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem\n} from \"shards-react\";\n\nimport logo from '../images/full_logo.svg';\nimport kh_flag from '../images/kh_flag.svg';\nimport gb_flag from '../images/gb_flag.svg';\nimport { changeLanguage } from '../actions/common.actions';\nconst Header = styled.div`\n  background: #FFF;\n  background: transparent;\n  top: 0;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n`;\n\nconst GridContainer = styled(Grid)`\n  height: 100%;\n  padding: 10px 20px;\n  max-width: 800px;\n`;\n\nconst  LogoImage = styled.img`\n  height: 40px;\n`;\n\nconst LangItem = styled.div`\n  display: flex;\n  align-items: center;\n`;\nconst LangFlag = styled.img`\n  height: 20px;\n  width: 40px;\n`;\nconst RightNav = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`;\n\n@connect((store) => {\n  return {\n    current_lang: store.intl.locale\n  };\n}, {changeLanguage})\nclass PublicHeader extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { open: false };\n  }\n\n  onChangeLang(lang) {\n    const {current_lang} = this.props;\n    if(lang === current_lang) {\n      return;\n    }\n\n    this.props.changeLanguage(lang);\n  }\n  _renderFlag(lang, isSort) {\n    if(lang === 'en') {\n      return(\n        <LangItem onClick={() => this.onChangeLang('en')}>\n          <LangFlag src={gb_flag} alt=\"English\"/>\n          <b>{isSort ? 'EN' : 'English'}</b>\n        </LangItem>\n      );\n    }\n\n    return(\n      <LangItem onClick={() => this.onChangeLang('km')}>\n        <LangFlag src={kh_flag} alt=\"Khmer\"/>\n        <b>{isSort ? 'KH' : 'ខ្មែរ'}</b>\n      </LangItem>\n    );\n  }\n\n  toggle = () => {\n    this.setState(prevState => {\n      return { open: !prevState.open };\n    });\n  }\n\n  render() {\n    const {current_lang} = this.props;\n    return (\n      <Header>\n        <GridContainer container spacing={0}\n              direction=\"row\"\n              justify=\"center\"\n              alignItems=\"center\">\n          <Grid item xs={4} sm={8}>\n            <Link to=\"/\">\n              <LogoImage src={logo} alt=\"kounissay\"/>\n            </Link>\n          </Grid>\n          <Grid item xs={8} sm={4}>\n            <RightNav className=\"\">\n              <Dropdown open={this.state.open} toggle={this.toggle}>\n                <DropdownToggle tag=\"span\">{this._renderFlag(current_lang, true)}</DropdownToggle>\n                <DropdownMenu right>\n                  <DropdownItem>{this._renderFlag('km')}</DropdownItem>\n                  <DropdownItem>{this._renderFlag('en')}</DropdownItem>\n                </DropdownMenu>\n              </Dropdown>\n            </RightNav>\n          </Grid>\n        </GridContainer>\n      </Header>\n    );\n  }\n}\n\nexport default PublicHeader;\n","import cookie from 'js-cookie';\n\nexport function getLocale() {\n  return cookie.get('locale') || 'en';\n}\n\nexport function setLocale(lang) {\n  cookie.set('locale', lang);\n}\n","import React from 'react';\nimport { withRouter } from \"react-router\";\nimport { withStyles } from '@material-ui/core/styles';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport HomeIcon from '@material-ui/icons/Home';\nimport RestoreIcon from '@material-ui/icons/Restore';\nimport ContactPhoneIcon from '@material-ui/icons/ContactPhone';\nimport LinkIcon from '@material-ui/icons/Link';\nimport { matchPath } from 'react-router-dom';\nimport { FormattedMessage } from 'react-intl';\n\nimport { history } from '../routers/AppRouter';\nconst styles = () => ({\n  root: {\n    width: '100%',\n  },\n});\n\nclass Footer extends React.Component {\n  state = {\n    page: '',\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      this._updatePageState();\n    }\n  }\n  componentDidMount() {\n    this._updatePageState();\n  }\n\n  _updatePageState() {\n    const {pathname} = this.props.location;\n    let page = '';\n    const isHome = !!matchPath(pathname, {\n      path: \"/\",\n      exact: true,\n    });\n    const isNews = !!matchPath(pathname, {\n      path: \"/news\",\n    });\n\n    const isContacts = !!matchPath(pathname, {\n      path: \"/contacts\",\n    });\n\n    const isLinks = !!matchPath(pathname, {\n      path: \"/links\",\n    });\n\n    if(isHome) {\n      page = 'home';\n    } else if(isNews) {\n      page = 'news';\n    } else if(isContacts) {\n      page = 'contacts';\n    } else if(isLinks) {\n      page = 'links';\n    }\n\n    this.setState({ page });\n  }\n\n  handleChange = (event, newPage)=> {\n    if (newPage === 'home') {\n      history.push('/');\n    } else {\n      history.push('/' + newPage);\n    }\n  }\n  render() {\n    const {classes} = this.props;\n    const {page} = this.state;\n    return (\n      <BottomNavigation value={page} onChange={this.handleChange} className={classes.root}>\n        <BottomNavigationAction label={<FormattedMessage id=\"app.home\" defaultMessage=\"Home\" />}\n          value=\"home\" icon={<HomeIcon />} className=\"\"/>\n        <BottomNavigationAction label={<FormattedMessage id=\"app.news\" defaultMessage=\"News\" />}\n          value=\"news\" icon={<RestoreIcon />} />\n        <BottomNavigationAction label={<FormattedMessage id=\"app.links\" defaultMessage=\"Links\" />}\n          value=\"links\" icon={<LinkIcon />} className=\"\"/>\n        <BottomNavigationAction label={<FormattedMessage id=\"app.contacts\" defaultMessage=\"Contacts\" />}\n          value=\"contacts\" icon={<ContactPhoneIcon />} className=\"\"/>\n      </BottomNavigation>\n    );\n  }\n}\n\nexport default withStyles(styles)(withRouter(Footer));\n","import React from \"react\";\nimport styled from 'styled-components';\n\nimport PublicHeader from '../components/PublicHeader';\nimport PublicFooter from '../components/PublicFooter';\n\nconst PublicContainer = styled.div`\n  background: #f5f6f8;\n  width: 100%;\n  overflow: hidden;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n`;\nconst Body = styled.div`\n  display: flex;\n  flex: 1;\n  overflow: auto;\n  // padding: 10px 20px;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n`;\nconst PublicLayout = ({ children }) => (\n  <PublicContainer>\n    <PublicHeader/>\n    <Body>\n      {children}\n    </Body>\n    <PublicFooter/>\n  </PublicContainer>\n);\n\nexport default PublicLayout;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport {\n  Card,\n  CardTitle,\n  CardBody,\n  Row,\n  Col,\n} from \"shards-react\";\nimport isEmpty from \"lodash/isEmpty\";\nimport { FormattedMessage } from 'react-intl';\n\nconst Title = styled(CardTitle)`\n  font-size: 1em;\n`;\n\n@connect((store) => {\n  return {\n    summary: store.dashboardReducers.summary\n  };\n}, {})\nclass Overview extends React.Component {\n  render() {\n    const {summary} = this.props;\n    if(isEmpty(summary)) {\n      return(<div/>);\n    }\n\n    return (\n      <Row>\n        <Col xs=\"6\" md=\"3\" className=\"mb-3\">\n          <Card className=\"p-0\" theme=\"\">\n            <CardBody className=\"p-4 text-center\">\n              <Title className=\"text-danger\">\n                <FormattedMessage id=\"case.confirmed\" defaultMessage=\"CONFIRMED\" />\n              </Title>\n              <h2 className=\"text-danger mb-0\">{summary.confirmed}</h2>\n            </CardBody>\n          </Card>\n        </Col>\n        <Col xs=\"6\" md=\"3\" className=\"mb-3\">\n          <Card className=\"p-0\">\n            <CardBody className=\"p-4 text-center text-primary\">\n              <Title className=\"text-primary\">\n                <FormattedMessage id=\"case.active\" defaultMessage=\"ACTIVE\" />\n              </Title>\n              <h2 className=\"text-primary mb-0\">{summary.active}</h2>\n            </CardBody>\n          </Card>\n        </Col>\n        <Col xs=\"6\" md=\"3\" className=\"mb-3\">\n          <Card className=\"p-0\">\n            <CardBody className=\"p-4 text-center\">\n              <Title className=\"text-success\">\n                <FormattedMessage id=\"case.recovered\" defaultMessage=\"RECOVERED\" />\n              </Title>\n              <h2 className=\"text-success mb-0\">{summary.recovered}</h2>\n            </CardBody>\n          </Card>\n        </Col>\n        <Col xs=\"6\" md=\"3\" className=\"mb-3\">\n          <Card className=\"p-0\">\n            <CardBody className=\"p-4 text-center\">\n              <Title>\n                <FormattedMessage id=\"case.dead\" defaultMessage=\"DEAD\" />\n              </Title>\n              <h2 className=\"mb-0\">{summary.dead}</h2>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nexport default Overview;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Paper from '@material-ui/core/Paper';\nimport isEmpty from \"lodash/isEmpty\";\nimport orderBy from \"lodash/orderBy\";\nimport { FormattedMessage } from 'react-intl';\n\nconst headCells = [\n  { id: 'province', numeric: false, className: \"\"},\n  { id: 'confirmed', numeric: true, className: \"text-danger\"},\n  { id: 'active', numeric: true, className: \"text-primary\"},\n  { id: 'recovered', numeric: true, className: \"text-success\"},\n  { id: 'dead', numeric: true, className: \"\"},\n];\n\nfunction EnhancedTableHead(props) {\n  const { order, orderField, onRequestSort } = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        {headCells.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? 'right' : 'left'}\n            padding='default'\n            sortDirection={orderField === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderField === headCell.id}\n              direction={orderField === headCell.id ? order : 'asc'}\n              onClick={createSortHandler(headCell.id)}\n              className={headCell.className}\n            >\n              <FormattedMessage id={`label.${headCell.id}`} defaultMessage=\"\" />\n              {orderField === headCell.id ? (\n                <span className=\"\">\n                  {order === 'desc' ? '' : ''}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\n\n@connect((store) => {\n  return {\n    provinces: store.dashboardReducers.provinces,\n    locale: store.intl.locale\n  };\n}, {})\nclass Provinces extends React.Component {\n  state = {\n    order: 'desc',\n    orderField: 'confirmed',\n  }\n  handleRequestSort = (event, property) => {\n    const {orderField, order} = this.state;\n    const isAsc = orderField === property && order === 'asc';\n    this.setState({order: isAsc ? 'desc' : 'asc'});\n    this.setState({orderField: property});\n  }\n\n  renderName(row) {\n    let {locale} = this.props;\n    if(locale === \"en\" && !isEmpty(row.province_en)) {\n      return row.province_en;\n    }\n\n    return row.province;\n  }\n\n  render() {\n    let {provinces, locale} = this.props;\n    const {orderField, order} = this.state;\n    if(isEmpty(provinces)) {\n      return(<div/>);\n    }\n\n    if(locale === \"en\" && orderField === \"province\") {\n      provinces = orderBy(provinces, `${orderField}_en`, order);\n    } else {\n      provinces = orderBy(provinces, orderField, order);\n    }\n\n\n    return (\n      <TableContainer component={Paper}>\n        <Table aria-label=\"simple table\">\n          <EnhancedTableHead\n            order={order}\n            orderField={orderField}\n            onRequestSort={this.handleRequestSort}\n            rowCount={provinces.length}\n          />\n          <TableBody>\n            {provinces.map(row => (\n              <TableRow key={row.province}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {this.renderName(row)}\n                </TableCell>\n                <TableCell align=\"right\" className=\"text-danger\">{row.confirmed}</TableCell>\n                <TableCell align=\"right\" className=\"text-primary\">{row.active}</TableCell>\n                <TableCell align=\"right\" className=\"text-success\">{row.recovered}</TableCell>\n                <TableCell align=\"right\">{row.dead}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    );\n  }\n}\n\nexport default Provinces;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { FormattedMessage } from 'react-intl';\n\nimport loader from '../images/oval.svg';\nconst Container = styled.div`\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n`;\n\nclass NoRecord extends React.Component {\n  render() {\n    const {isFetching, className} = this.props;\n    return (\n      <Container className={`${className} container`}>\n        {\n          !isFetching &&\n          <h4><FormattedMessage id=\"app.no_records\" defaultMessage=\"No Record\" /></h4>\n        }\n        {\n          isFetching &&\n          <img className=\"loader__image\" src={loader} alt=\"loading\" />\n        }\n      </Container>\n    );\n  }\n}\n\nexport default NoRecord;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { FormattedMessage } from 'react-intl';\nimport Moment from 'react-moment';\n\nimport Overview from \"./../components/Overview\";\nimport Provinces from \"./../components/Provinces\";\nimport NoRecord from \"./../components/NoRecord\";\nconst Container = styled.div`\n`;\n\n@connect((store) => {\n  return {\n    lastFetchAt: store.dashboardReducers.lastFetchAt,\n    isFetching: store.dashboardReducers.isFetching\n  };\n}, {})\nclass HomePage extends React.Component {\n  render() {\n    const {lastFetchAt, isFetching} = this.props;\n    if(isFetching) {\n      return(<NoRecord isFetching={true}/>);\n    }\n    return (\n      <Container className=\"container\">\n        {\n          lastFetchAt &&\n          <div className=\"text-right\">\n            <p className=\"mb-1 mr-2\">\n              <FormattedMessage id=\"app.updated_at\" defaultMessage=\"Updated:\" />\n              <span className=\"text-success\">\n                <Moment fromNow>{lastFetchAt}</Moment>\n              </span>\n            </p>\n          </div>\n        }\n        <Overview/>\n        <Provinces/>\n      </Container>\n    );\n  }\n}\n\nexport default HomePage;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport isEmpty from \"lodash/isEmpty\";\n\nimport NoRecord from \"./../components/NoRecord\";\nconst Container = styled.div`\n  overflow: auto;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n`;\n\n@connect((store) => {\n  return {\n    links: store.linkReducers.links,\n    isFetching: store.linkReducers.isFetching\n  };\n}, {})\nclass LinksPage extends React.Component {\n  render() {\n    const {links, isFetching} = this.props;\n    if(isEmpty(links)) {\n      return(<NoRecord isFetching={isFetching} className=\"bg-white\"/>);\n    }\n\n    return (\n      <Container className=\"container bg-white\">\n        {\n          links.map((link, index)=>(\n            <div className=\"p-3 border rounded mt-3 text-break\" key={index}>\n              <h5 className=\"mb-0\">{link.title}</h5>\n              <a href={link.link} target=\"_blank\" rel=\"noopener noreferrer\">\n                {link.link}\n              </a>\n            </div>\n          ))\n        }\n      </Container>\n    );\n  }\n}\n\nexport default LinksPage;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport isEmpty from \"lodash/isEmpty\";\n\nimport NoRecord from \"./../components/NoRecord\";\nconst Container = styled.div`\n  overflow: auto;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n`;\n\n@connect((store) => {\n  return {\n    contacts: store.contactReducers.contacts,\n    isFetching: store.contactReducers.isFetching\n  };\n}, {})\nclass ContactsPage extends React.Component {\n  renderContactList(contact) {\n    return(\n      <ul>\n        {\n          contact.data.map((elm, i) => {\n            if(elm.type === \"link\") {\n              return(<li key={i}>\n                <a href={elm.text} target=\"_blank\" rel=\"noopener noreferrer\">{elm.text}</a>\n              </li>);\n            }\n\n            return(<li key={i}>{elm.text}</li>);\n          })\n        }\n      </ul>\n    );\n  }\n  render() {\n    const {contacts, isFetching} = this.props;\n    if(isEmpty(contacts)) {\n      return(<NoRecord isFetching={isFetching} className=\"bg-white\"/>);\n    }\n    return (\n      <Container className=\"container bg-white\">\n        {\n          contacts.map((contact, index)=>(\n            <div className=\"p-3 border rounded mt-3 text-break\" key={index}>\n              <h5 className=\"mb-2\">{contact.name}</h5>\n              {this.renderContactList(contact)}\n            </div>\n          ))\n        }\n      </Container>\n    );\n  }\n}\n\nexport default ContactsPage;\n","import { dialogConstants } from '../constants';\n\nexport function toggleNewsDrawer(options) {\n  return function(dispatch) {\n    dispatch({\n      type: dialogConstants.TOGGLE_NEWS_DRAWER,\n      payload: options\n    });\n  }\n}\n","export function getYouTubeID(url) {\n  var ID = '';\n  url = url.replace(/(>|<)/gi,'').split(/(vi\\/|v=|\\/v\\/|youtu\\.be\\/|\\/embed\\/)/);\n  if(url[2] !== undefined) {\n    ID = url[2].split(/[^0-9a-z_-]/i);\n    ID = ID[0];\n  }\n  else {\n    ID = url;\n  }\n  return ID;\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Drawer from '@material-ui/core/Drawer';\nimport styled from 'styled-components';\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport isEmpty from \"lodash/isEmpty\";\nimport { FacebookProvider, EmbeddedPost } from 'react-facebook';\n\nimport { toggleNewsDrawer } from '../actions/dialog.actions';\nimport loader from '../images/oval.svg';\nimport {getYouTubeID} from \"./../helpers/youtubeID\";\nconst Header = styled.div`\n  display: flex;\n  flex: 1;\n  width: 100%;\n  justify-content: space-between;\n`;\nconst Body = styled.div`\n  padding: 15px;\n`;\nconst Title = styled.h5`\n  padding: 15px;\n`;\n\nconst FacebookWraper = styled.div`\n  position: relative;\n  .loader__image {\n    position: absolute;\n    top: 40%;\n    left: 40%;\n  }\n  position: relative;\n  min-height: 120px;\n  iframe {\n    max-width: 100%;\n  }\n`;\n\n@connect((store) => {\n  return {\n    newsDetail: store.newsReducers.newsDetail,\n    newDrawerOpen: store.dialogReducers.newDrawerOpen\n  };\n}, {toggleNewsDrawer})\nclass NewsDetailDrawer extends React.Component {\n  toggleDrawer = () => {\n    this.props.toggleNewsDrawer({open: false});\n  }\n\n  renderFBEmbeded() {\n    const {newsDetail} = this.props;\n    if(isEmpty(newsDetail.link)) {\n      return(<div/>);\n    }\n\n    return(\n      <div className=\"\">\n        <FacebookWraper className=\"text-center mb-2\">\n          <img className=\"loader__image\" src={loader} alt=\"loading\" />\n          <FacebookProvider appId=\"466260074169181\">\n            <EmbeddedPost\n              href={newsDetail.link}\n              showText=\"false\"\n              width=\"auto\" />\n          </FacebookProvider>\n        </FacebookWraper>\n      </div>\n    );\n  }\n\n  renderVideo() {\n    const {newsDetail} = this.props;\n    if(isEmpty(newsDetail.link)) {\n      return(<div/>);\n    }\n\n    const videoId = getYouTubeID(newsDetail.link);\n    if(isEmpty(videoId)) {\n      return(<div/>);\n    }\n\n    return(\n      <div className=\"text-center mb-2\">\n        <div\n          className=\"video\"\n          style={{\n            position: \"relative\",\n            paddingBottom: \"56.25%\" /* 16:9 */,\n            paddingTop: 25,\n            height: 0\n          }}\n        >\n          <iframe\n            title=\"youtube embeded\"\n            style={{\n              position: \"absolute\",\n              top: 0,\n              left: 0,\n              width: \"100%\",\n              height: \"100%\"\n            }}\n            src={`https://www.youtube.com/embed/${videoId}`}\n            frameBorder=\"0\"\n          />\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const {newDrawerOpen, newsDetail} = this.props;\n    if(isEmpty(newsDetail)) {\n      return(<div/>);\n    }\n\n    return (\n      <div>\n        <Drawer anchor=\"right\"\n                open={newDrawerOpen}\n                onClose={this.toggleDrawer}\n                classes={{\n                  paper: \"news-detail-drawer\",\n                }}\n                className=\"drawer-wrapper\">\n          <div>\n            <Header>\n              <Title>\n                {newsDetail.title}\n              </Title>\n              <div>\n                <IconButton aria-label=\"show 4 new mails\" color=\"inherit\" onClick={this.toggleDrawer}>\n                  <CloseIcon/>\n                </IconButton>\n              </div>\n            </Header>\n            <Body>\n              {\n                newsDetail.type === \"facebook_post\" &&\n                this.renderFBEmbeded()\n              }\n              {\n                newsDetail.type === \"video\" &&\n                this.renderVideo()\n              }\n\n              <p>{newsDetail.description}</p>\n            </Body>\n          </div>\n        </Drawer>\n      </div>\n    );\n  }\n\n}\n\nexport default NewsDetailDrawer;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport LinesEllipsis from 'react-lines-ellipsis';\nimport styled from 'styled-components';\nimport isEmpty from \"lodash/isEmpty\";\nimport { Row, Col } from \"shards-react\";\nimport { FacebookProvider, EmbeddedPost } from 'react-facebook';\nimport Moment from 'react-moment';\n\nimport loader from '../images/oval.svg';\nimport { toggleNewsDrawer } from '../actions/dialog.actions';\nimport { setNewsDetail } from '../actions/news.actions';\nimport {getYouTubeID} from \"./../helpers/youtubeID\";\nconst FacebookWraper = styled.div`\n  position: relative;\n  .loader__image {\n    position: absolute;\n    top: 40%;\n    left: 40%;\n  }\n  .post-backdrop {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n  }\n  position: relative;\n  min-height: 120px;\n  iframe {\n    max-width: 100%;\n  }\n`;\n\nconst PostDate = styled.div`\n`;\n\n@connect(() => {\n  return {\n  };\n}, {toggleNewsDrawer, setNewsDetail})\nclass News extends React.Component {\n  handleClick = () => {\n    const {news} = this.props;\n    this.props.setNewsDetail(news);\n    this.props.toggleNewsDrawer({open: true});\n  }\n\n  renderPublishDate() {\n    const {news} = this.props;\n    if(isEmpty(news.publish_date)) {\n      return(<div/>);\n    }\n\n    return(\n      <PostDate className=\"text-muted\">\n        <Moment format=\"hh:mm MMMM DD, YYYY\">\n          1976-04-19T12:59-0500\n        </Moment>\n      </PostDate>\n    );\n  }\n\n  renderFBEmbeded() {\n    const {news} = this.props;\n    if(isEmpty(news.link)) {\n      return(<div/>);\n    }\n\n    return(\n      <div className=\"cursor-pointer p-3 border rounded mt-3 text-break\" onClick={this.handleClick}>\n        <Row noGutters>\n          <Col sm=\"6\" md=\"6\" lg=\"4\">\n            <FacebookWraper className=\"text-center mb-2\">\n              <img className=\"loader__image\" src={loader} alt=\"loading\" />\n              <FacebookProvider appId=\"466260074169181\">\n                <EmbeddedPost\n                  href={news.link}\n                  showText=\"false\"\n                  width=\"auto\" />\n              </FacebookProvider>\n              <div className=\"post-backdrop\"/>\n            </FacebookWraper>\n          </Col>\n          <Col sm=\"6\" md=\"6\" lg=\"8\">\n            <div className=\"pl-2\">\n              <h5 className=\"mb-1\">\n                <LinesEllipsis\n                  text={news.title}\n                  maxLine='2'\n                  ellipsis='...'\n                  trimRight\n                  basedOn='letters'\n                />\n              </h5>\n              <LinesEllipsis\n                text={news.description}\n                maxLine='2'\n                ellipsis='...'\n                trimRight\n                basedOn='letters'\n              />\n              {this.renderPublishDate()}\n            </div>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  renderVideo() {\n    const {news} = this.props;\n    if(isEmpty(news.link)) {\n      return(<div/>);\n    }\n\n    const videoId = getYouTubeID(news.link);\n    if(isEmpty(videoId)) {\n      return(<div/>);\n    }\n\n    return(\n      <div className=\"cursor-pointer p-3 border rounded mt-3 text-break\" onClick={this.handleClick}>\n        <Row noGutters>\n          <Col sm=\"6\" md=\"6\" lg=\"4\">\n            <div className=\"text-center mb-2\">\n              <img src={`https://img.youtube.com/vi/${videoId}/mqdefault.jpg`} className=\"img-fluid\" alt={news.title} />\n            </div>\n          </Col>\n          <Col sm=\"6\" md=\"6\" lg=\"8\">\n            <div className=\"pl-2\">\n              <h5 className=\"mb-1\">\n                <LinesEllipsis\n                  text={news.title}\n                  maxLine='2'\n                  ellipsis='...'\n                  trimRight\n                  basedOn='letters'\n                />\n              </h5>\n              <LinesEllipsis\n                text={news.description}\n                maxLine='2'\n                ellipsis='...'\n                trimRight\n                basedOn='letters'\n              />\n              {this.renderPublishDate()}\n            </div>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n  render() {\n    const {news} = this.props;\n\n    if(news.type === \"video\") {\n      return this.renderVideo()\n    } else if(news.type === \"facebook_post\") {\n      return this.renderFBEmbeded()\n    }\n\n    return (\n      <div className=\"cursor-pointer p-3 border rounded mt-3 text-break\" onClick={this.handleClick}>\n        <h5 className=\"mb-1\">{news.title}</h5>\n        <div className=\"mb-1\">\n          <LinesEllipsis\n            text={news.description}\n            maxLine='2'\n            ellipsis='...'\n            trimRight\n            basedOn='letters'\n          />\n          {this.renderPublishDate()}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default News;\n","import { newsConstants } from '../constants';\nimport { newsService } from '../services';\n\nexport function fetchNewsList(options) {\n  return function(dispatch) {\n    dispatch({type: newsConstants.LOADING_NEWS_LIST, payload: null});\n    newsService.fetchNewsList(options)\n      .then((response) => {\n        dispatch({type: newsConstants.NEWS_LIST_LOADED, payload: response.data});\n      })\n      .catch((err) => {\n        console.log(err);\n        dispatch({type: newsConstants.NEWS_LIST_FAILED, payload: null});\n      });\n  }\n}\n\nexport function setNewsDetail(news) {\n  return function(dispatch) {\n    dispatch({type: newsConstants.SET_NEWS_DETAIL, payload: {news: news}});\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport isEmpty from \"lodash/isEmpty\";\n\nimport { fetchNewsList }      from './../actions/news.actions'\nimport NoRecord from \"./../components/NoRecord\";\nimport NewsDetailDrawer from \"./../components/NewsDetailDrawer\";\nimport News from \"./../components/News\";\nconst Container = styled.div`\n  overflow: auto;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n`;\n\n@connect((store) => {\n  return {\n    newsList: store.newsReducers.newsList,\n    isFetching: store.newsReducers.isFetching\n  };\n}, {fetchNewsList})\nclass NewsPage extends React.Component {\n  componentDidMount = () => {\n    this.props.fetchNewsList();\n  }\n\n  render() {\n    const {newsList, isFetching} = this.props;\n    if(isEmpty(newsList)) {\n      return(<NoRecord isFetching={isFetching} className=\"bg-white\"/>);\n    }\n\n    return (\n      <Container className=\"container bg-white\">\n        {\n          newsList.map((news, index)=>(\n            <News news={news} key={index}/>\n          ))\n        }\n        <NewsDetailDrawer/>\n      </Container>\n    );\n  }\n}\n\nexport default NewsPage;\n","// Layout Types\nimport { PublicLayout } from \"./../layouts\";\n\nimport {permissionConstants} from \"../constants\";\n\nimport HomePage from './../screens/HomePage';\nimport LinksPage from './../screens/LinksPage';\nimport ContactsPage from './../screens/ContactsPage';\nimport NewsPage from './../screens/NewsPage';\nexport default [\n  {\n    path: \"/\",\n    plublic: true,\n    exact: true,\n    layout: PublicLayout,\n    component: HomePage,\n    allowRoles: permissionConstants.normalPermission,\n  },\n  {\n    path: \"/news\",\n    plublic: true,\n    exact: true,\n    layout: PublicLayout,\n    component: NewsPage,\n    allowRoles: permissionConstants.normalPermission,\n  },\n  {\n    path: \"/links\",\n    plublic: true,\n    exact: true,\n    layout: PublicLayout,\n    component: LinksPage,\n    allowRoles: permissionConstants.normalPermission,\n  },\n  {\n    path: \"/contacts\",\n    plublic: true,\n    exact: true,\n    layout: PublicLayout,\n    component: ContactsPage,\n    allowRoles: permissionConstants.normalPermission,\n  },\n];\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport {createBrowserHistory} from 'history';\nimport styled from 'styled-components';\n\nimport LoadingPage from '../screens/LoadingPage';\nimport NotFoundPage from '../screens/NotFoundPage';\nimport OfflineAlert from \"./../components/OfflineAlert\";\nimport pageRoutes from './pageRoutes';\n\nexport const history = createBrowserHistory();\n\nconst Container = styled.div``;\n\n@connect((store) => {\n  return {\n    isOnboarding: store.commonReducers.isOnboarding,\n  };\n}, {})\nclass AppRouter extends React.Component {\n  componentDidMount() {\n    document.title = \"កូវីដ១៩ខ្មែរ\";\n  }\n\n  render() {\n    const {isOnboarding} =  this.props;\n    if(isOnboarding) {\n      return(<LoadingPage/>)\n    }\n\n    return(\n      <Router history={history}>\n        <Container>\n          <OfflineAlert/>\n          <Switch>\n            {\n              pageRoutes.map((route, index) => {\n                return (\n                  <Route\n                    key={index}\n                    path={route.path}\n                    exact={route.exact}\n                    component={(props) => {\n                      return (\n                        <route.layout {...props}>\n                          <route.component {...props} />\n                        </route.layout>\n                      );\n                    }}\n                  />\n                );\n              })\n            }\n            <Route component={NotFoundPage} />\n          </Switch>\n        </Container>\n      </Router>\n    );\n  }\n}\n\nexport default AppRouter;\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport { batch, batching } from 'redux-batch-middleware';\nimport thunk from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form';\nimport { intlReducer } from 'react-intl-redux';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport autoMergeLevel2 from 'redux-persist/lib/stateReconciler/autoMergeLevel2';\n\nimport commonReducers from '../reducers/commonReducers';\nimport dialogReducers from '../reducers/dialogReducers';\nimport dashboardReducers from '../reducers/dashboardReducers';\nimport linkReducers from '../reducers/linkReducers';\nimport contactReducers from '../reducers/contactReducers';\nimport newsReducers from '../reducers/newsReducers';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst middleware = [thunk, batch];\nconst enhancers = composeEnhancers(applyMiddleware(...middleware));\n\nconst appReducer = combineReducers({\n  commonReducers,\n  dialogReducers,\n  dashboardReducers,\n  linkReducers,\n  contactReducers,\n  newsReducers,\n  form: formReducer,\n  intl: intlReducer,\n});\n\nconst persistConfig = {\n key: 'root',\n storage: storage,\n stateReconciler: autoMergeLevel2 // see \"Merge Process\" section for details.\n};\n\nconst pReducer = persistReducer(persistConfig, batching(appReducer));\nexport default (initialState) => {\n  const store = createStore(pReducer, initialState, enhancers);\n  const persistor = persistStore(store);\n  return { store, persistor }\n};\n","import { commonConstants } from '../constants';\n\nexport default function reducer(state={\n    isOnline: false,\n    isNewVersion: false,\n    isOnboarding: true,\n  }, action) {\n    switch(action.type) {\n      case (commonConstants.SYS_LOADING_COMPLETE): {\n        return {\n          ...state,\n          isOnboarding: false\n        };\n      }\n\n      default:\n        return state;\n    }\n}\n","import { dialogConstants } from '../constants';\n\nexport default function reducer(state={\n    newDrawerOpen: false\n  }, action) {\n    switch(action.type) {\n      case (dialogConstants.TOGGLE_NEWS_DRAWER): {\n        const {open} = action.payload;\n        return {\n          ...state,\n          newDrawerOpen: open\n        };\n      }\n\n      default:\n        return state;\n    }\n}\n","import { commonConstants } from '../constants';\n\nexport default function reducer(state={\n    summary: null,\n    provinces: [],\n    lastFetchAt: null,\n    isFetching: false,\n  }, action) {\n    switch(action.type) {\n      case (commonConstants.LOADING_DASHBOARD): {\n        return {\n          ...state,\n          isFetching: true\n        };\n      }\n      case (commonConstants.DASHBOARD_FAILED): {\n        return {\n          ...state,\n          isFetching: false\n        };\n      }\n      case (commonConstants.DASHBOARD_LOADED): {\n        const {summary, provinces, last_fetch_at} = action.payload;\n        return {\n          ...state,\n          summary: summary,\n          provinces: provinces,\n          lastFetchAt: last_fetch_at,\n          isFetching: false\n        };\n      }\n\n      default:\n        return state;\n    }\n}\n","import { commonConstants } from '../constants';\n\nexport default function reducer(state={\n    links: [],\n    isFetching: false,\n  }, action) {\n    switch(action.type) {\n      case (commonConstants.LOADING_LINKS): {\n        return {\n          ...state,\n          isFetching: true\n        };\n      }\n      case (commonConstants.LINKS_FAILED): {\n        return {\n          ...state,\n          isFetching: false\n        };\n      }\n      case (commonConstants.LINKS_LOADED): {\n        const {links} = action.payload;\n        return {\n          ...state,\n          links: links,\n          isFetching: false\n        };\n      }\n\n      default:\n        return state;\n    }\n}\n","import { commonConstants } from '../constants';\n\nexport default function reducer(state={\n    contacts: [],\n    isFetching: false,\n  }, action) {\n    switch(action.type) {\n      case (commonConstants.LOADING_CONTACTS): {\n        return {\n          ...state,\n          isFetching: true\n        };\n      }\n      case (commonConstants.CONTACTS_FAIL): {\n        return {\n          ...state,\n          isFetching: false\n        };\n      }\n\n      case (commonConstants.CONTACTS_LOADED): {\n        const {contacts} = action.payload;\n        return {\n          ...state,\n          contacts: contacts,\n          isFetching: false,\n        };\n      }\n\n      default:\n        return state;\n    }\n}\n","import { newsConstants } from '../constants';\n\nexport default function reducer(state={\n    newsList: [],\n    newsDetail: null,\n    isFetching: false\n  }, action) {\n    switch(action.type) {\n\n\n      case (newsConstants.LOADING_NEWS_LIST): {\n        return {\n          ...state,\n          isFetching: true\n        };\n      }\n      case (newsConstants.NEWS_LIST_FAILED): {\n        return {\n          ...state,\n          isFetching: false\n        };\n      }\n      case (newsConstants.NEWS_LIST_LOADED): {\n        const {news_list} = action.payload;\n        return {\n          ...state,\n          newsList: news_list,\n          isFetching: false\n        };\n      }\n\n      case (newsConstants.SET_NEWS_DETAIL): {\n        const {news} = action.payload;\n        return {\n          ...state,\n          newsDetail: news,\n        };\n      }\n\n      default:\n        return state;\n    }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  // if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n  if ('serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      // const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n      const swUrl = `${process.env.PUBLIC_URL}/sw.js`;\n\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n\n    navigator.serviceWorker.addEventListener('controllerchange', function() {\n      window.location.reload();\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      if (registration.waiting) {\n        // Execute callback\n        if (config && config.onWaiting) {\n          config.onWaiting(registration);\n        }\n\n        return;\n      }\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { IntlProvider } from 'react-intl-redux';\nimport { PersistGate } from 'redux-persist/lib/integration/react';\nimport Moment from 'moment';\n\nimport AppRouter from './routers/AppRouter';\nimport configureStore from './store/configureStore';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"shards-ui/dist/css/shards.min.css\";\nimport './style/index.scss';\n// import 'react-image-lightbox/style.css';\nimport * as serviceWorker from './serviceWorker';\nimport { fetchDashboardData, getLinks, getContacts }      from './actions/common.actions'\nimport {getLocale}           from './store/locale';\nimport {getLocaleData}         from './locale-data';\n\nimport '@formatjs/intl-pluralrules/polyfill';\nimport '@formatjs/intl-relativetimeformat/polyfill';\nimport '@formatjs/intl-relativetimeformat/dist/locale-data/km';\nimport '@formatjs/intl-relativetimeformat/dist/locale-data/en';\n\nimport LoadingPage from './screens/LoadingPage';\n\nconst localLang = getLocale();\nconst initialState = {\n  intl: {\n    defaultLocale: 'en',\n    locale: localLang,\n    messages: getLocaleData(localLang),\n  },\n};\nMoment.locale(localLang);\nexport const {store, persistor} = configureStore(initialState);\nstore.dispatch(fetchDashboardData());\nstore.dispatch(getLinks());\nstore.dispatch(getContacts());\n\nsetInterval(function() {\n  store.dispatch(fetchDashboardData());\n  store.dispatch(getLinks());\n  store.dispatch(getContacts());\n}, 300000); //pull every 5 minutes\n\nconst jsx = (\n  <Provider store={store}>\n    <PersistGate loading={<LoadingPage />} persistor={persistor}>\n      <IntlProvider>\n        <AppRouter />\n      </IntlProvider>\n    </PersistGate>\n  </Provider>\n);\n\nReactDOM.render(jsx, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\nserviceWorker.register({\n  onWaiting: function(worker) {\n    // store.dispatch(toggleNewVersion({isNewVersion: true}));\n    worker.waiting.postMessage({action: 'skipWaiting'});\n  },\n  onUpdate: function (worker) {\n    worker.waiting.postMessage({action: 'skipWaiting'});\n  },\n  onSuccess: function(args) {}\n});\n\n\n// TODO help me make it better\nlet isTooSoon = true;\nwindow.addEventListener(\"beforeinstallprompt\", function(e) {\n  if (isTooSoon) {\n    e.preventDefault(); // Prevents prompt display\n\n    // deferredPrompt = e;\n    //// Update UI notify the user they can install the PWA\n    // showInstallPromotion();\n\n    console.log('This is install app');\n    // Prompt later instead:\n    setTimeout(function() {\n      isTooSoon = false;\n      e.prompt(); // Throws if called more than once or default not prevented\n    }, 10000);\n  }\n});\n\nwindow.addEventListener('appinstalled', (evt) => {\n  console.log('App is installed');\n});\n","module.exports = __webpack_public_path__ + \"static/media/oval.0aba2b33.svg\";"],"sourceRoot":""}