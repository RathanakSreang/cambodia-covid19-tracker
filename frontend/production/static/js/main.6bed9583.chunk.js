(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{230:function(e,t,n){e.exports=n.p+"static/media/full_logo.bd01e22a.svg"},231:function(e,t,n){e.exports=n.p+"static/media/kh_flag.5a13865d.svg"},232:function(e,t,n){e.exports=n.p+"static/media/gb_flag.d3ddd602.svg"},234:function(e){e.exports=JSON.parse('{"app.greeting":"Hello World!","errors.oop":"OOP!","errors.404":"404","errors.page_not_found_des":"\u1791\u17c6\u1796\u17d0\u179a\u178a\u17c2\u179b\u17a2\u17d2\u1793\u1780\u1780\u17c6\u1796\u17bb\u1784\u179a\u1780\u1798\u17b7\u1793\u1798\u17b6\u1793\u1791\u17c1\u17d4","links.go_home":"\u1791\u17c5\u1791\u17c6\u1796\u17d0\u179a\u178a\u17be\u1798","label.province":"\u1781\u17c1\u178f\u17d2\u178f/\u1780\u17d2\u179a\u17bb\u1784","label.confirmed":"\u1780\u179a\u178e\u17b8\u1786\u17d2\u179b\u1784\u1787\u17c6\u1784\u17ba","label.active":"\u1780\u17c6\u1796\u17bb\u1784\u1795\u17d2\u1791\u17bb\u1780\u1787\u17c6\u1784\u17ba","label.recovered":"\u1787\u17b6\u179f\u17c7\u179f\u17d2\u1794\u17be\u1799","label.dead":"\u179f\u17d2\u179b\u17b6\u1794\u17cb","case.new":"\u1790\u17d2\u1798\u17b8","case.confirmed":"\u1780\u179a\u178e\u17b8\u1786\u17d2\u179b\u1784\u1787\u17c6\u1784\u17ba","case.active":"\u1780\u17c6\u1796\u17bb\u1784\u1795\u17d2\u1791\u17bb\u1780\u1787\u17c6\u1784\u17ba","case.recovered":"\u1787\u17b6\u179f\u17c7\u179f\u17d2\u1794\u17be\u1799","case.dead":"\u179f\u17d2\u179b\u17b6\u1794\u17cb","app.no_records":"\u1782\u17d2\u1798\u17b6\u1793\u200b\u1791\u17b7\u1793\u17d2\u1793\u1793\u17d0\u1799","app.contacts":"\u1791\u17b6\u1780\u17cb\u1791\u1784","app.links":"\u178f\u17c6\u178e","app.news":"\u1796\u17d0\u178f\u17cc\u1798\u17b6\u1793","app.home":"\u1791\u17c6\u1796\u17d0\u179a\u178a\u17be\u1798","app.updated_at":"\u1794\u1785\u17d2\u1785\u17bb\u1794\u17d2\u1794\u1793\u17d2\u1793\u1797\u17b6\u1796 ","app.offline":"\u1782\u17d2\u1798\u17b6\u1793\u17a2\u17ca\u17b8\u1793\u1792\u17ba\u178e\u17b7\u178f","app.install":"\u178a\u17c6\u17a1\u17be\u1784\u200b\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8"}')},235:function(e){e.exports=JSON.parse('{"app.greeting":"Hello World!","errors.oop":"OOP!","errors.404":"404","errors.page_not_found_des":"The page you were looking for doesn\'t exist.","links.go_home":"Go home","label.province":"Province","label.confirmed":"Confirmed","label.active":"Active","label.recovered":"Recovered","label.dead":"Dead","case.confirmed":"CONFIRMED","case.active":"ACTIVE","case.recovered":"RECOVERED","case.dead":"DEAD","case.new":"new","app.no_records":"No Record","app.contacts":"Contacts","app.links":"Links","app.news":"News","app.home":"Home","app.updated_at":"Updated ","app.offline":"No Internet","app.install":"Install"}')},251:function(e,t,n){e.exports=n(481)},472:function(e,t,n){},481:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),i=n.n(c),o=n(22),l=n(82),s=n(222),u=n(75),d=n.n(u),m=(n(261),n(14)),p=n(17),f=n(16),h=n(12),v=n(15),g=n(9),b=n(58),E=n(38),w=n(10),O=n(133),y=n(69),j=n.n(y);function k(){var e=Object(g.a)(["\n  width: 100%;\n  height: 100vh;\n  flex: 1;\n  display: flex;\n  justify-content: center;\n"]);return k=function(){return e},e}var N=w.a.div(k()),_=function(){return r.a.createElement(N,null,r.a.createElement("img",{className:"loader__image",src:j.a,alt:"loading"}))},x=n(81),C=n(180);function D(){var e=Object(g.a)(["\n  display: flex;\n  flex: 1;\n  height: 100vh;\n  align-items: center;\n  justify-content: center;\n  .top-title {\n    color: #cacedb;\n    font-weight: 700;\n    font-size: 3.75rem;\n  }\n  .main-title {\n    font-weight: 500;\n    font-size: 2.1875rem;\n    margin-bottom: .625rem;\n  }\n  .blurb {\n    color: #818ea3;\n  }\n"]);return D=function(){return e},e}var F=w.a.div(D()),L=function(){return r.a.createElement(F,{className:"not-found-container"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"inner-wrapper"},r.a.createElement("div",{className:"top-title"},r.a.createElement(C.a,{id:"errors.oop",defaultMessage:"OOP!"})),r.a.createElement("div",{className:"main-title"},r.a.createElement(C.a,{id:"errors.404",defaultMessage:"404"}))),r.a.createElement("p",{className:"blurb"},r.a.createElement(C.a,{id:"errors.page_not_found_des",defaultMessage:"The page you were looking for doesn't exist."}),r.a.createElement("br",null)),r.a.createElement("div",{className:"text-center"},r.a.createElement(x.a,{to:"/",className:"btn btn-primary btn-sm"},r.a.createElement(C.a,{id:"links.go_home",defaultMessage:"Go home"})))))},A=n(226);function R(){var e=Object(g.a)(["\n  position: fixed;\n  padding: 10px 15px;\n  background: #181e1e;\n  color: #FFF;\n  opacity: 0.8;\n  left: 40%;\n  top: 8px;\n"]);return R=function(){return e},e}var S=w.a.div(R()),I=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(A.Offline,null,r.a.createElement(S,null,r.a.createElement(C.a,{id:"app.offline",defaultMessage:"No internet"})))}}]),t}(r.a.Component),P=n(516),M=n(34),T=n(519),B=n(236),W=n.n(B),G=n(230),U=n.n(G),z=n(231),Y=n.n(z),H=n(232),V=n.n(H),q="DASHBOARD_LOADED",K="LOADING_DASHBOARD",J="DASHBOARD_FAILED",X="LINKS_LOADED",$="LOADING_LINKS",Q="LINKS_FAILED",Z="CONTACTS_LOADED",ee="LOADING_CONTACTS",te="CONTACTS_FAIL",ne="SYS_LOADING_COMPLETE",ae="TOGGLE_INSTALL_APP_BTN",re={normalPermission:["guest","student","staff","admin"],moderatorPermission:["staff","admin"],adminPermission:["admin"]},ce="TOGGLE_NEWS_DRAWER",ie="NEWS_LIST_LOADED",oe="LOADING_NEWS_LIST",le="NEWS_LIST_FAILED",se="SET_NEWS_DETAIL",ue=n(33),de=n.n(ue),me=n(54),pe=n.n(me),fe=n(233),he=n.n(fe);var ve=n(20),ge={fetchDashboardData:function(e){return de.a.get("/v1/dashboard",{params:Object(ve.a)({},e)})},getLinks:function(e){return de.a.get("/v1/links",{params:Object(ve.a)({},e)})},getContacts:function(e){return de.a.get("/v1/contacts",{params:Object(ve.a)({},e)})}};var be={fetchNewsList:function(e){return de.a.get("/v1/news_list",{params:Object(ve.a)({},e)})},fetchNewsDetail:function(e){return de.a.get("/v1/news_detail"+e)}};!function(){var e=pe.a.get("token"),t=function(){var e=sessionStorage.getItem("uuid");return e||(e=he()(),sessionStorage.setItem("uuid",e),e)}();de.a.defaults.baseURL="https://api.co19kh.info",de.a.defaults.headers.common["Content-Type"]="application/json",de.a.defaults.headers.common.Accept="application/json",de.a.defaults.headers.common.UUID=t,null!==e&&(de.a.defaults.headers.common.Authorization="Bearer "+e)}(),function(){var e=!1,t=[],n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.forEach((function(t){e?t.reject(e):t.resolve(n)})),t=[]};de.a.interceptors.response.use((function(e){return e}),(function(a){var r=a.config,c=pe.a.get("refresh_token");return c&&a.response&&401===a.response.status&&!r._retry?e?new Promise((function(e,n){t.push({resolve:e,reject:n})})).then((function(e){return r.headers.Authorization="Bearer "+e,de()(r)})).catch((function(e){return e})):(r._retry=!0,e=!0,new Promise((function(t,a){de.a.post("/v1/refresh_token",{refresh_token:c}).then((function(e){var a,c,i=e.data,o=i.auth.token,l=i.auth.refresh_token;a=o,c=l,pe.a.set("refresh_token",c),pe.a.set("token",a),de.a.defaults.headers.common.Authorization="Bearer "+o,r.headers.Authorization="Bearer "+o,n(null,o),t(de()(r))})).catch((function(e){n(e,null),a(e)})).then((function(){e=!1}))}))):Promise.reject(a)}))}();var Ee,we=n(234),Oe=n(235);function ye(e){return"km"===e?we:Oe}function je(e){return function(t){t({type:ae,payload:e})}}function ke(e){return function(t){t({type:K,payload:null}),ge.fetchDashboardData(e).then((function(e){t({type:q,payload:e.data}),t({type:ne,payload:null})})).catch((function(e){console.log(e),t({type:ne,payload:null}),t({type:J,payload:null})}))}}function Ne(e){return function(t){t({type:$,payload:null}),ge.getLinks(e).then((function(e){t({type:X,payload:e.data})})).catch((function(e){console.log(e),t({type:Q,payload:null})}))}}function _e(e){return function(t){t({type:ee,payload:null}),ge.getContacts(e).then((function(e){t({type:Z,payload:e.data})})).catch((function(e){console.log(e),t({type:te,payload:null})}))}}function xe(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"]);return xe=function(){return e},e}function Ce(){var e=Object(g.a)(["\n  height: 20px;\n  width: 40px;\n"]);return Ce=function(){return e},e}function De(){var e=Object(g.a)(["\n  display: flex;\n  align-items: center;\n"]);return De=function(){return e},e}function Fe(){var e=Object(g.a)(["\n  height: 40px;\n"]);return Fe=function(){return e},e}function Le(){var e=Object(g.a)(["\n  height: 100%;\n  padding: 10px 20px;\n  max-width: 800px;\n"]);return Le=function(){return e},e}function Ae(){var e=Object(g.a)(["\n  background: #FFF;\n  background: transparent;\n  top: 0;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n"]);return Ae=function(){return e},e}var Re=w.a.div(Ae()),Se=Object(w.a)(P.a)(Le()),Ie=w.a.img(Fe()),Pe=w.a.div(De()),Me=w.a.img(Ce()),Te=w.a.div(xe()),Be=Object(o.connect)((function(e){return{current_lang:e.intl.locale,isShowInstallBtn:e.commonReducers.isShowInstallBtn}}),{changeLanguage:function(e){return function(t){"km"!==e&&"en"!==e||(d.a.locale(e),t(Object(l.updateIntl)({locale:e,messages:ye(e)})),function(e){pe.a.set("locale",e)}(e))}},toggleInstallApp:je})(Ee=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).toggle=function(){n.setState((function(e){return{open:!e.open}}))},n.handleInstall=function(){var e=window.deferredPrompt;e&&(e.prompt(),e.userChoice.then((function(e){console.log("\ud83d\udc4d","userChoice",e),window.deferredPrompt=null,n.props.toggleInstallApp({show:!1})})))},n.state={open:!1},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"onChangeLang",value:function(e){e!==this.props.current_lang&&this.props.changeLanguage(e)}},{key:"_renderFlag",value:function(e,t){var n=this;return"en"===e?r.a.createElement(Pe,{onClick:function(){return n.onChangeLang("en")}},r.a.createElement(Me,{src:V.a,alt:"English"}),r.a.createElement("b",null,t?"EN":"English")):r.a.createElement(Pe,{onClick:function(){return n.onChangeLang("km")}},r.a.createElement(Me,{src:Y.a,alt:"Khmer"}),r.a.createElement("b",null,t?"KH":"\u1781\u17d2\u1798\u17c2\u179a"))}},{key:"render",value:function(){var e=this.props,t=e.current_lang,n=e.isShowInstallBtn;return r.a.createElement(Re,null,r.a.createElement(Se,{container:!0,spacing:0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(P.a,{item:!0,xs:4,sm:8},r.a.createElement(x.a,{to:"/"},r.a.createElement(Ie,{src:U.a,alt:"kounissay"}))),r.a.createElement(P.a,{item:!0,xs:8,sm:4},r.a.createElement(Te,{className:""},r.a.createElement("div",null,n&&r.a.createElement(T.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(W.a,null),onClick:this.handleInstall},r.a.createElement(C.a,{id:"app.install",defaultMessage:"Install"}))),r.a.createElement(M.e,{open:this.state.open,toggle:this.toggle},r.a.createElement(M.h,{tag:"span"},this._renderFlag(t,!0)),r.a.createElement(M.g,{right:!0},r.a.createElement(M.f,null,this._renderFlag("km")),r.a.createElement(M.f,null,this._renderFlag("en"))))))))}}]),t}(r.a.Component))||Ee,We=n(13),Ge=n(520),Ue=n(521),ze=n(237),Ye=n.n(ze),He=n(238),Ve=n.n(He),qe=n(239),Ke=n.n(qe),Je=n(126),Xe=n.n(Je),$e=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={page:""},n.handleChange=function(e,t){"home"===t?Cn.push("/"):Cn.push("/"+t)},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this._updatePageState()}},{key:"componentDidMount",value:function(){this._updatePageState()}},{key:"_updatePageState",value:function(){var e=this.props.location.pathname,t="",n=!!Object(b.e)(e,{path:"/",exact:!0}),a=!!Object(b.e)(e,{path:"/news"}),r=!!Object(b.e)(e,{path:"/contacts"}),c=!!Object(b.e)(e,{path:"/links"});n?t="home":a?t="news":r?t="contacts":c&&(t="links"),this.setState({page:t})}},{key:"render",value:function(){var e=this.props.classes,t=this.state.page;return r.a.createElement(Ge.a,{value:t,onChange:this.handleChange,className:e.root},r.a.createElement(Ue.a,{label:r.a.createElement(C.a,{id:"app.home",defaultMessage:"Home"}),value:"home",icon:r.a.createElement(Ye.a,null),className:""}),r.a.createElement(Ue.a,{label:r.a.createElement(C.a,{id:"app.news",defaultMessage:"News"}),value:"news",icon:r.a.createElement(Ve.a,null)}),r.a.createElement(Ue.a,{label:r.a.createElement(C.a,{id:"app.links",defaultMessage:"Links"}),value:"links",icon:r.a.createElement(Xe.a,null),className:""}),r.a.createElement(Ue.a,{label:r.a.createElement(C.a,{id:"app.contacts",defaultMessage:"Contacts"}),value:"contacts",icon:r.a.createElement(Ke.a,null),className:""}))}}]),t}(r.a.Component),Qe=Object(We.a)((function(){return{root:{width:"100%"}}}))(Object(b.f)($e));function Ze(){var e=Object(g.a)(["\n  display: flex;\n  flex: 1;\n  overflow: auto;\n  // padding: 10px 20px;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n"]);return Ze=function(){return e},e}function et(){var e=Object(g.a)(["\n  background: #f5f6f8;\n  width: 100%;\n  overflow: hidden;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n"]);return et=function(){return e},e}var tt,nt=w.a.div(et()),at=w.a.div(Ze()),rt=function(e){var t=e.children;return r.a.createElement(nt,null,r.a.createElement(Be,null),r.a.createElement(at,null,t),r.a.createElement(Qe,null))},ct=n(127),it=n.n(ct),ot=n(29),lt=n.n(ot);function st(){var e=Object(g.a)(["\n  font-size: 1em;\n"]);return st=function(){return e},e}function ut(){var e=Object(g.a)(["\n  font-size: 1em;\n"]);return ut=function(){return e},e}function dt(){var e=Object(g.a)(["\n"]);return dt=function(){return e},e}var mt,pt=Object(w.a)(M.a)(dt()),ft=Object(w.a)(M.c)(ut()),ht=w.a.span(st()),vt=Object(o.connect)((function(e){return{summary:e.dashboardReducers.summary}}),{})(tt=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"renderNewCase",value:function(e){return e&&e>0?r.a.createElement(ht,null,"(",e," ",r.a.createElement(C.a,{id:"case.new",defaultMessage:"new"}),")"):null}},{key:"renderCase",value:function(e,t,n,a){return r.a.createElement(M.d,{xs:"6",md:"3",className:"mb-3"},r.a.createElement(pt,{className:"p-0 h-100",theme:""},r.a.createElement(M.b,{className:"".concat(n," p-4 text-center")},r.a.createElement(ft,{className:n},r.a.createElement(C.a,{id:"case.".concat(a),defaultMessage:"Case"})),r.a.createElement("h2",{className:"".concat(n," mb-0")},e),this.renderNewCase(t))))}},{key:"render",value:function(){var e=this.props.summary;return lt()(e)?r.a.createElement("div",null):r.a.createElement(M.i,null,this.renderCase(e.confirmed,e.new_confirmed,"text-danger","confirmed"),this.renderCase(e.active,0,"text-primary","active"),this.renderCase(e.recovered,e.new_recovered,"text-success","recovered"),this.renderCase(e.dead,e.new_dead,"","dead"))}}]),t}(r.a.Component))||tt,gt=n(527),bt=n(528),Et=n(524),wt=n(525),Ot=n(522),yt=n(523),jt=n(532),kt=n(526),Nt=n(172),_t=n.n(Nt),xt=n(240),Ct=n.n(xt),Dt=[{id:"province",numeric:!1,className:""},{id:"confirmed",numeric:!0,className:"text-danger"},{id:"active",numeric:!0,className:"text-primary"},{id:"recovered",numeric:!0,className:"text-success"},{id:"dead",numeric:!0,className:""}];function Ft(e){var t=e.order,n=e.orderField,a=e.onRequestSort;return r.a.createElement(Ot.a,null,r.a.createElement(yt.a,null,Dt.map((function(e){return r.a.createElement(Et.a,{key:e.id,align:e.numeric?"right":"left",padding:"default",sortDirection:n===e.id&&t},r.a.createElement(jt.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(c=e.id,function(e){a(e,c)}),className:e.className},r.a.createElement(C.a,{id:"label.".concat(e.id),defaultMessage:""}),n===e.id?r.a.createElement("span",{className:""},""):null));var c}))))}var Lt=Object(o.connect)((function(e){return{provinces:e.dashboardReducers.provinces,locale:e.intl.locale}}),{})(mt=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={order:"desc",orderField:"confirmed"},n.handleRequestSort=function(e,t){var a=n.state,r=a.orderField,c=a.order,i=r===t&&"asc"===c;n.setState({order:i?"desc":"asc"}),n.setState({orderField:t})},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"renderName",value:function(e){return"en"!==this.props.locale||lt()(e.province_en)?e.province:e.province_en}},{key:"renderNewCase",value:function(e){return e&&e>0?r.a.createElement("span",null,"(",e,")"):null}},{key:"backgroundClass",value:function(e){return e.new_confirmed&&e.new_confirmed>0?"table-bg-confirmed":e.new_recovered&&e.new_recovered>0?"table-bg-recover":e.new_dead&&e.new_dead>0?"table-bg-dead":""}},{key:"render",value:function(){var e=this,t=this.props,n=t.provinces,a=t.locale,c=this.state,i=c.orderField,o=c.order;return lt()(n)?r.a.createElement("div",null):(n=Ct()(n,(function(e){return e.confirmed>0})),n="en"===a&&"province"===i?_t()(n,"".concat(i,"_en"),o):_t()(n,i,o),r.a.createElement(wt.a,{component:kt.a},r.a.createElement(gt.a,{"aria-label":"simple table"},r.a.createElement(Ft,{order:o,orderField:i,onRequestSort:this.handleRequestSort,rowCount:n.length}),r.a.createElement(bt.a,null,n.map((function(t){return r.a.createElement(yt.a,{key:t.province,className:e.backgroundClass(t)},r.a.createElement(Et.a,{component:"th",scope:"row",className:"text-province"},e.renderName(t)),r.a.createElement(Et.a,{align:"right",className:"text-danger"},t.confirmed,e.renderNewCase(t.new_confirmed)),r.a.createElement(Et.a,{align:"right",className:"text-primary"},t.active,e.renderNewCase(0)),r.a.createElement(Et.a,{align:"right",className:"text-success"},t.recovered,e.renderNewCase(t.new_recovered)),r.a.createElement(Et.a,{align:"right",className:"text-dead"},t.dead,e.renderNewCase(t.new_dead)))}))))))}}]),t}(r.a.Component))||mt;function At(){var e=Object(g.a)(["\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n"]);return At=function(){return e},e}var Rt,St=w.a.div(At()),It=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.className;return r.a.createElement(St,{className:"".concat(n," container")},!t&&r.a.createElement("h4",null,r.a.createElement(C.a,{id:"app.no_records",defaultMessage:"No Record"})),t&&r.a.createElement("img",{className:"loader__image",src:j.a,alt:"loading"}))}}]),t}(r.a.Component);function Pt(){var e=Object(g.a)(["\n"]);return Pt=function(){return e},e}var Mt,Tt=w.a.div(Pt()),Bt=Object(o.connect)((function(e){return{lastFetchAt:e.dashboardReducers.lastFetchAt,isFetching:e.dashboardReducers.isFetching}}),{})(Rt=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.lastFetchAt;return e.isFetching?r.a.createElement(It,{isFetching:!0}):r.a.createElement(Tt,{className:"container"},t&&r.a.createElement("div",{className:"text-right"},r.a.createElement("p",{className:"mb-1 mr-2"},r.a.createElement(C.a,{id:"app.updated_at",defaultMessage:"Updated:"}),r.a.createElement("span",{className:"text-success"},r.a.createElement(it.a,{format:"DD/MM/YYYY, h:mmA"},t)))),r.a.createElement(vt,null),r.a.createElement(Lt,null))}}]),t}(r.a.Component))||Rt;function Wt(){var e=Object(g.a)(["\n  overflow: auto;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n"]);return Wt=function(){return e},e}var Gt,Ut=w.a.div(Wt()),zt=Object(o.connect)((function(e){return{links:e.linkReducers.links,isFetching:e.linkReducers.isFetching}}),{})(Mt=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.links,n=e.isFetching;return lt()(t)?r.a.createElement(It,{isFetching:n,className:"bg-white"}):r.a.createElement(Ut,{className:"container bg-white"},t.map((function(e,t){return r.a.createElement("div",{className:"p-3 border rounded mt-3 text-break",key:t},r.a.createElement("h5",{className:"mb-0"},e.title),r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:"pl-1"},e.link)))})))}}]),t}(r.a.Component))||Mt,Yt=n(241),Ht=n.n(Yt);function Vt(){var e=Object(g.a)(["\n  overflow: auto;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n"]);return Vt=function(){return e},e}var qt=w.a.div(Vt()),Kt=Object(o.connect)((function(e){return{contacts:e.contactReducers.contacts,isFetching:e.contactReducers.isFetching}}),{})(Gt=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"renderContactList",value:function(e){return r.a.createElement("div",null,e.data.map((function(e,t){return lt()(e.text)?null:"link"===e.type?r.a.createElement("div",{key:t},r.a.createElement(Xe.a,null),r.a.createElement("span",{className:"pl-1"},r.a.createElement("a",{href:e.text,target:"_blank",rel:"noopener noreferrer"},e.text))):r.a.createElement("div",{key:t,className:"pt-2 pb-2"},r.a.createElement("a",{href:"tel:".concat(e.text)},r.a.createElement(Ht.a,null),r.a.createElement("span",{className:"pl-1"},e.text)))})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.contacts,a=t.isFetching;return lt()(n)?r.a.createElement(It,{isFetching:a,className:"bg-white"}):r.a.createElement(qt,{className:"container bg-white"},n.map((function(t,n){return r.a.createElement("div",{className:"p-3 border rounded mt-3 text-break",key:n},r.a.createElement("h5",{className:"mb-2"},t.name),e.renderContactList(t))})))}}]),t}(r.a.Component))||Gt;var Jt,Xt=n(530),$t=n(242),Qt=n.n($t),Zt=n(529),en=n(91);function tn(e){return function(t){t({type:ce,payload:e})}}function nn(e){return void 0!==(e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?e[2].split(/[^0-9a-z_-]/i)[0]:e}function an(){var e=Object(g.a)(["\n  position: relative;\n  .loader__image {\n    position: absolute;\n    top: 40%;\n    left: 40%;\n  }\n  position: relative;\n  min-height: 120px;\n  iframe {\n    max-width: 100%;\n  }\n"]);return an=function(){return e},e}function rn(){var e=Object(g.a)(["\n  padding: 15px;\n"]);return rn=function(){return e},e}function cn(){var e=Object(g.a)(["\n  padding: 15px;\n"]);return cn=function(){return e},e}function on(){var e=Object(g.a)(["\n  display: flex;\n  flex: 1;\n  width: 100%;\n  justify-content: space-between;\n"]);return on=function(){return e},e}var ln,sn=w.a.div(on()),un=w.a.div(cn()),dn=w.a.h5(rn()),mn=w.a.div(an()),pn=Object(o.connect)((function(e){return{newsDetail:e.newsReducers.newsDetail,newDrawerOpen:e.dialogReducers.newDrawerOpen}}),{toggleNewsDrawer:tn})(Jt=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).toggleDrawer=function(){n.props.toggleNewsDrawer({open:!1})},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"renderFBEmbeded",value:function(){var e=this.props.newsDetail;return lt()(e.link)?r.a.createElement("div",null):r.a.createElement("div",{className:""},r.a.createElement(mn,{className:"text-center mb-2"},r.a.createElement("img",{className:"loader__image",src:j.a,alt:"loading"}),r.a.createElement(en.FacebookProvider,{appId:"466260074169181"},r.a.createElement(en.EmbeddedPost,{href:e.link,showText:"false",width:"auto"}))))}},{key:"renderVideo",value:function(){var e=this.props.newsDetail;if(lt()(e.link))return r.a.createElement("div",null);var t=nn(e.link);return lt()(t)?r.a.createElement("div",null):r.a.createElement("div",{className:"text-center mb-2"},r.a.createElement("div",{className:"video",style:{position:"relative",paddingBottom:"56.25%",paddingTop:25,height:0}},r.a.createElement("iframe",{title:"youtube embeded",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},src:"https://www.youtube.com/embed/".concat(t),frameBorder:"0"})))}},{key:"render",value:function(){var e=this.props,t=e.newDrawerOpen,n=e.newsDetail;return lt()(n)?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement(Xt.a,{anchor:"right",open:t,onClose:this.toggleDrawer,classes:{paper:"news-detail-drawer"},className:"drawer-wrapper"},r.a.createElement("div",null,r.a.createElement(sn,null,r.a.createElement(dn,null,n.title),r.a.createElement("div",null,r.a.createElement(Zt.a,{"aria-label":"show 4 new mails",color:"inherit",onClick:this.toggleDrawer},r.a.createElement(Qt.a,null)))),r.a.createElement(un,null,"facebook_post"===n.type&&this.renderFBEmbeded(),"video"===n.type&&this.renderVideo(),r.a.createElement("p",null,n.description)))))}}]),t}(r.a.Component))||Jt,fn=n(93),hn=n.n(fn);function vn(){var e=Object(g.a)(["\n"]);return vn=function(){return e},e}function gn(){var e=Object(g.a)(["\n  position: relative;\n  .loader__image {\n    position: absolute;\n    top: 40%;\n    left: 40%;\n  }\n  .post-backdrop {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n  }\n  position: relative;\n  min-height: 120px;\n  iframe {\n    max-width: 100%;\n  }\n"]);return gn=function(){return e},e}var bn,En=w.a.div(gn()),wn=w.a.div(vn()),On=Object(o.connect)((function(){return{}}),{toggleNewsDrawer:tn,setNewsDetail:function(e){return function(t){t({type:se,payload:{news:e}})}}})(ln=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=n.props.news;n.props.setNewsDetail(e),n.props.toggleNewsDrawer({open:!0})},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"renderPublishDate",value:function(){var e=this.props.news;return lt()(e.publish_date)?r.a.createElement("div",null):r.a.createElement(wn,{className:"text-muted"},r.a.createElement(it.a,{format:"hh:mm MMMM DD, YYYY"},"1976-04-19T12:59-0500"))}},{key:"renderFBEmbeded",value:function(){var e=this.props.news;return lt()(e.link)?r.a.createElement("div",null):r.a.createElement("div",{className:"cursor-pointer p-3 border rounded mt-3 text-break",onClick:this.handleClick},r.a.createElement(M.i,{noGutters:!0},r.a.createElement(M.d,{sm:"6",md:"6",lg:"4"},r.a.createElement(En,{className:"text-center mb-2"},r.a.createElement("img",{className:"loader__image",src:j.a,alt:"loading"}),r.a.createElement(en.FacebookProvider,{appId:"466260074169181"},r.a.createElement(en.EmbeddedPost,{href:e.link,showText:"false",width:"auto"})),r.a.createElement("div",{className:"post-backdrop"}))),r.a.createElement(M.d,{sm:"6",md:"6",lg:"8"},r.a.createElement("div",{className:"pl-2"},r.a.createElement("h5",{className:"mb-1"},r.a.createElement(hn.a,{text:e.title,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"})),r.a.createElement(hn.a,{text:e.description,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"}),this.renderPublishDate()))))}},{key:"renderVideo",value:function(){var e=this.props.news;if(lt()(e.link))return r.a.createElement("div",null);var t=nn(e.link);return lt()(t)?r.a.createElement("div",null):r.a.createElement("div",{className:"cursor-pointer p-3 border rounded mt-3 text-break",onClick:this.handleClick},r.a.createElement(M.i,{noGutters:!0},r.a.createElement(M.d,{sm:"6",md:"6",lg:"4"},r.a.createElement("div",{className:"text-center mb-2"},r.a.createElement("img",{src:"https://img.youtube.com/vi/".concat(t,"/mqdefault.jpg"),className:"img-fluid",alt:e.title}))),r.a.createElement(M.d,{sm:"6",md:"6",lg:"8"},r.a.createElement("div",{className:"pl-2"},r.a.createElement("h5",{className:"mb-1"},r.a.createElement(hn.a,{text:e.title,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"})),r.a.createElement(hn.a,{text:e.description,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"}),this.renderPublishDate()))))}},{key:"render",value:function(){var e=this.props.news;return"video"===e.type?this.renderVideo():"facebook_post"===e.type?this.renderFBEmbeded():r.a.createElement("div",{className:"cursor-pointer p-3 border rounded mt-3 text-break",onClick:this.handleClick},r.a.createElement("h5",{className:"mb-1"},e.title),r.a.createElement("div",{className:"mb-1"},r.a.createElement(hn.a,{text:e.description,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"}),this.renderPublishDate()))}}]),t}(r.a.Component))||ln;function yn(){var e=Object(g.a)(["\n  overflow: auto;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n"]);return yn=function(){return e},e}var jn,kn=w.a.div(yn()),Nn=Object(o.connect)((function(e){return{newsList:e.newsReducers.newsList,isFetching:e.newsReducers.isFetching}}),{fetchNewsList:function(e){return function(t){t({type:oe,payload:null}),be.fetchNewsList(e).then((function(e){t({type:ie,payload:e.data})})).catch((function(e){console.log(e),t({type:le,payload:null})}))}}})(bn=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){n.props.fetchNewsList()},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.newsList,n=e.isFetching;return lt()(t)?r.a.createElement(It,{isFetching:n,className:"bg-white"}):r.a.createElement(kn,{className:"container bg-white"},t.map((function(e,t){return r.a.createElement(On,{news:e,key:t})})),r.a.createElement(pn,null))}}]),t}(r.a.Component))||bn,_n=[{path:"/",plublic:!0,exact:!0,layout:rt,component:Bt,allowRoles:re.normalPermission},{path:"/news",plublic:!0,exact:!0,layout:rt,component:Nn,allowRoles:re.normalPermission},{path:"/links",plublic:!0,exact:!0,layout:rt,component:zt,allowRoles:re.normalPermission},{path:"/contacts",plublic:!0,exact:!0,layout:rt,component:Kt,allowRoles:re.normalPermission}];function xn(){var e=Object(g.a)([""]);return xn=function(){return e},e}var Cn=Object(E.a)();O.a.initialize("UA-66625680-6"),Cn.listen((function(e){O.a.set({page:e.pathname}),O.a.pageview(e.pathname)}));var Dn=w.a.div(xn()),Fn=Object(o.connect)((function(e){return{isOnboarding:e.commonReducers.isOnboarding}}),{})(jn=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){document.title="\u1780\u17bc\u179c\u17b8\u178a\u17e1\u17e9\u1781\u17d2\u1798\u17c2\u179a"}},{key:"render",value:function(){return this.props.isOnboarding?r.a.createElement(_,null):r.a.createElement(b.b,{history:Cn},r.a.createElement(Dn,null,r.a.createElement(I,null),r.a.createElement(b.c,null,_n.map((function(e,t){return r.a.createElement(b.a,{key:t,path:e.path,exact:e.exact,component:function(t){return r.a.createElement(e.layout,t,r.a.createElement(e.component,t))}})})),r.a.createElement(b.a,{component:L}))))}}]),t}(r.a.Component))||jn,Ln=n(51),An=n(173),Rn=n(243),Sn=n(531),In=n(174),Pn=n(244),Mn=n.n(Pn),Tn=n(245),Bn=n.n(Tn);var Wn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ln.d,Gn=[Rn.a,An.batch],Un=Wn(Ln.a.apply(void 0,Gn)),zn=Object(Ln.c)({commonReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOnline:!1,isNewVersion:!1,isOnboarding:!0,isShowInstallBtn:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(ve.a)({},e,{isOnboarding:!1});case ae:var n=t.payload.show;return Object(ve.a)({},e,{isShowInstallBtn:n});default:return e}},dialogReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{newDrawerOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:var n=t.payload.open;return Object(ve.a)({},e,{newDrawerOpen:n});default:return e}},dashboardReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{summary:null,provinces:[],lastFetchAt:null,isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(ve.a)({},e,{isFetching:!0});case J:return Object(ve.a)({},e,{isFetching:!1});case q:var n=t.payload,a=n.summary,r=n.provinces,c=n.last_fetch_at;return Object(ve.a)({},e,{summary:a,provinces:r,lastFetchAt:c,isFetching:!1});default:return e}},linkReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{links:[],isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(ve.a)({},e,{isFetching:!0});case Q:return Object(ve.a)({},e,{isFetching:!1});case X:var n=t.payload.links;return Object(ve.a)({},e,{links:n,isFetching:!1});default:return e}},contactReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{contacts:[],isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(ve.a)({},e,{isFetching:!0});case te:return Object(ve.a)({},e,{isFetching:!1});case Z:var n=t.payload.contacts;return Object(ve.a)({},e,{contacts:n,isFetching:!1});default:return e}},newsReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{newsList:[],newsDetail:null,isFetching:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return Object(ve.a)({},e,{isFetching:!0});case le:return Object(ve.a)({},e,{isFetching:!1});case ie:var n=t.payload.news_list;return Object(ve.a)({},e,{newsList:n,isFetching:!1});case se:var a=t.payload.news;return Object(ve.a)({},e,{newsDetail:a});default:return e}},form:Sn.a,intl:l.intlReducer}),Yn={key:"root",storage:Mn.a,stateReconciler:Bn.a,blacklist:["commonReducers"]},Hn=Object(In.a)(Yn,Object(An.batching)(zn)),Vn=(n(470),n(471),n(472),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function qn(e,t){navigator.serviceWorker.register(e).then((function(e){e.waiting?t&&t.onWaiting&&t.onWaiting(e):e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(473),n(476),n(479),n(480);n.d(t,"store",(function(){return $n})),n.d(t,"persistor",(function(){return Qn}));var Kn=pe.a.get("locale")||"en",Jn={intl:{defaultLocale:"en",locale:Kn,messages:ye(Kn)}};d.a.locale(Kn);var Xn=function(e){var t=Object(Ln.e)(Hn,e,Un);return{store:t,persistor:Object(In.b)(t)}}(Jn),$n=Xn.store,Qn=Xn.persistor;$n.dispatch(ke()),$n.dispatch(Ne()),$n.dispatch(_e()),setInterval((function(){$n.dispatch(ke()),$n.dispatch(Ne()),$n.dispatch(_e())}),3e5);var Zn=r.a.createElement(o.Provider,{store:$n},r.a.createElement(s.PersistGate,{loading:r.a.createElement(_,null),persistor:Qn},r.a.createElement(l.IntlProvider,null,r.a.createElement(Fn,null))));i.a.render(Zn,document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/sw.js");Vn?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):qn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):qn(t,e)})),navigator.serviceWorker.addEventListener("controllerchange",(function(){window.location.reload()}))}}({onWaiting:function(e){e.waiting.postMessage({action:"skipWaiting"})},onUpdate:function(e){e.waiting.postMessage({action:"skipWaiting"})},onSuccess:function(e){}}),window.addEventListener("beforeinstallprompt",(function(e){console.log("\ud83d\udc4d","beforeinstallprompt"),e.preventDefault(),window.deferredPrompt=e,setTimeout((function(){console.log("isShowInstallBtn"),window.deferredPrompt&&$n.dispatch(je({show:!0}))}),3e3)})),window.addEventListener("appinstalled",(function(e){console.log("\ud83d\udc4d","appinstalled"),window.deferredPrompt=null,$n.dispatch(je({show:!1}))}))},69:function(e,t,n){e.exports=n.p+"static/media/oval.4a57603a.svg"}},[[251,1,2]]]);
//# sourceMappingURL=main.6bed9583.chunk.js.map