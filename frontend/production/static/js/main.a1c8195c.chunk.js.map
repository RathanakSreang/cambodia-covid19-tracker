{"version":3,"sources":["images/full_logo.svg","images/kh_flag.svg","images/gb_flag.svg","screens/LoadingPage.jsx","screens/NotFoundPage.jsx","components/OfflineAlert.jsx","constants/common.constants.js","constants/permission.constants.js","constants/dialog.constants.js","constants/news.constants.js","services/common.service.js","services/news.service.js","services/defaultHeader.js","store/tokenStore.js","services/index.js","services/createAxiosResponseInterceptor.js","locale-data/index.js","actions/common.actions.js","components/PublicHeader.jsx","store/locale.js","components/PublicFooter.jsx","layouts/Public.jsx","components/Overview.jsx","components/Provinces.jsx","components/NoRecord.jsx","screens/HomePage.jsx","screens/LinksPage.jsx","screens/ContactsPage.jsx","actions/dialog.actions.js","helpers/youtubeID.js","components/NewsDetailDrawer.jsx","components/News.jsx","actions/news.actions.js","screens/NewsPage.jsx","routers/pageRoutes.jsx","routers/AppRouter.jsx","store/configureStore.js","reducers/commonReducers.js","reducers/dialogReducers.js","reducers/dashboardReducers.js","reducers/linkReducers.js","reducers/contactReducers.js","reducers/newsReducers.js","serviceWorker.js","index.jsx","images/oval.svg"],"names":["module","exports","Container","styled","div","LoadingPage","className","src","loader","alt","NotFoundPage","id","defaultMessage","to","OfflineAlert","polling","url","React","Component","commonConstants","permissionConstants","normalPermission","moderatorPermission","adminPermission","dialogConstants","newsConstants","commonService","fetchDashboardData","options","axios","get","params","getLinks","getContacts","newsService","fetchNewsList","fetchNewsDetail","token","cookie","uuid","sessionUUID","sessionStorage","getItem","setItem","getSessionUUID","defaults","baseURL","headers","common","defaultHeader","isRefreshing","failedQueue","processQueue","error","forEach","prom","reject","resolve","interceptors","response","use","originalRequest","config","refreshToken","status","_retry","Promise","push","then","catch","err","post","refresh_token","data","newToken","auth","newRefreshToken","set","createAxiosResponseInterceptor","getLocaleData","lang","km","en","toggleInstallApp","dispatch","type","payload","console","log","Header","GridContainer","Grid","LogoImage","img","LangItem","LangFlag","RightNav","PublicHeader","connect","store","current_lang","intl","locale","isShowInstallBtn","commonReducers","changeLanguage","Moment","updateIntl","messages","setLocale","props","toggle","setState","prevState","open","handleInstall","promptEvent","window","deferredPrompt","prompt","userChoice","result","show","state","this","isSort","onClick","onChangeLang","gb_flag","kh_flag","container","spacing","direction","justify","alignItems","item","xs","sm","logo","Button","variant","color","size","startIcon","tag","_renderFlag","right","Footer","page","handleChange","event","newPage","history","prevProps","location","pathname","_updatePageState","isHome","matchPath","path","exact","isNews","isContacts","isLinks","classes","BottomNavigation","value","onChange","root","BottomNavigationAction","label","icon","withStyles","width","withRouter","PublicContainer","Body","PublicLayout","children","PublicFooter","Title","CardTitle","Overview","summary","dashboardReducers","isEmpty","md","theme","confirmed","active","recovered","dead","headCells","numeric","EnhancedTableHead","order","orderField","onRequestSort","TableHead","TableRow","map","headCell","TableCell","key","align","padding","sortDirection","TableSortLabel","property","Provinces","provinces","handleRequestSort","isAsc","row","province_en","province","orderBy","TableContainer","component","Paper","Table","aria-label","rowCount","length","TableBody","scope","renderName","NoRecord","isFetching","HomePage","lastFetchAt","fromNow","LinksPage","links","linkReducers","link","index","title","href","target","rel","ContactsPage","contacts","contactReducers","contact","elm","i","text","name","renderContactList","toggleNewsDrawer","getYouTubeID","undefined","replace","split","h5","FacebookWraper","NewsDetailDrawer","newsDetail","newsReducers","newDrawerOpen","dialogReducers","toggleDrawer","appId","showText","videoId","style","position","paddingBottom","paddingTop","height","top","left","frameBorder","Drawer","anchor","onClose","paper","IconButton","renderFBEmbeded","renderVideo","description","PostDate","News","setNewsDetail","news","handleClick","publish_date","format","noGutters","lg","maxLine","ellipsis","trimRight","basedOn","renderPublishDate","NewsPage","newsList","componentDidMount","plublic","layout","allowRoles","createBrowserHistory","AppRouter","isOnboarding","document","pageRoutes","route","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middleware","thunk","batch","enhancers","applyMiddleware","appReducer","combineReducers","isOnline","isNewVersion","action","last_fetch_at","news_list","form","formReducer","intlReducer","persistConfig","storage","stateReconciler","autoMergeLevel2","blacklist","pReducer","persistReducer","batching","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","waiting","onWaiting","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","localLang","initialState","defaultLocale","createStore","persistor","persistStore","configureStore","setInterval","jsx","loading","ReactDOM","render","getElementById","URL","process","origin","addEventListener","fetch","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker","worker","postMessage","args","preventDefault","setTimeout","evt"],"mappings":"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","file":"static/js/main.a1c8195c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/full_logo.bd01e22a.svg\";","module.exports = __webpack_public_path__ + \"static/media/kh_flag.5a13865d.svg\";","module.exports = __webpack_public_path__ + \"static/media/gb_flag.d3ddd602.svg\";","import React from 'react';\nimport styled from 'styled-components';\n\nimport loader from '../images/oval.svg';\n\nconst Container = styled.div`\n  width: 100%;\n  height: 100vh;\n  flex: 1;\n  display: flex;\n  justify-content: center;\n`;\nconst LoadingPage = () => (\n  <Container>\n    <img className=\"loader__image\" src={loader} alt=\"loading\" />\n  </Container>\n);\n\nexport default LoadingPage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FormattedMessage } from 'react-intl';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  display: flex;\n  flex: 1;\n  height: 100vh;\n  align-items: center;\n  justify-content: center;\n  .top-title {\n    color: #cacedb;\n    font-weight: 700;\n    font-size: 3.75rem;\n  }\n  .main-title {\n    font-weight: 500;\n    font-size: 2.1875rem;\n    margin-bottom: .625rem;\n  }\n  .blurb {\n    color: #818ea3;\n  }\n`;\n\nconst NotFoundPage = () => (\n  <Container className=\"not-found-container\">\n    <div className=\"content\">\n      <div className=\"inner-wrapper\">\n        <div className=\"top-title\"><FormattedMessage id=\"errors.oop\" defaultMessage=\"OOP!\" /></div>\n        <div className=\"main-title\">\n          <FormattedMessage id=\"errors.404\" defaultMessage=\"404\" />\n        </div>\n      </div>\n\n      <p className=\"blurb\">\n        <FormattedMessage id=\"errors.page_not_found_des\" defaultMessage=\"The page you were looking for doesn't exist.\" />\n        <br/>\n      </p>\n\n      <div className=\"text-center\">\n        <Link to=\"/\" className=\"btn btn-primary btn-sm\"><FormattedMessage id=\"links.go_home\" defaultMessage=\"Go home\" /></Link>\n      </div>\n\n    </div>\n\n  </Container>\n);\n\nexport default NotFoundPage;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { FormattedMessage } from 'react-intl';\nimport { Offline } from \"react-detect-offline\";\n\nconst Container = styled.div`\n  position: fixed;\n  padding: 10px 15px;\n  background: #181e1e;\n  color: #FFF;\n  opacity: 0.8;\n  left: 40%;\n  top: 8px;\n`;\n\nclass OfflineAlert extends React.Component {\n  render() {\n    return (\n      <Offline polling={{url: \"/favicon.ico\"}}>\n        <Container>\n          <FormattedMessage id=\"app.offline\" defaultMessage=\"No internet\" />\n        </Container>\n      </Offline>\n    );\n  }\n}\n\nexport default OfflineAlert;\n","export const commonConstants = {\n  DASHBOARD_LOADED: 'DASHBOARD_LOADED',\n  LOADING_DASHBOARD: 'LOADING_DASHBOARD',\n  DASHBOARD_FAILED: 'DASHBOARD_FAILED',\n\n  LINKS_LOADED: 'LINKS_LOADED',\n  LOADING_LINKS: 'LOADING_LINKS',\n  LINKS_FAILED: 'LINKS_FAILED',\n\n  CONTACTS_LOADED: 'CONTACTS_LOADED',\n  LOADING_CONTACTS: 'LOADING_CONTACTS',\n  CONTACTS_FAIL: 'CONTACTS_FAIL',\n\n  SYS_LOADING_COMPLETE: 'SYS_LOADING_COMPLETE',\n  FETCHING_DATA: 'FETCHING_DATA',\n  FETCHED_DATA: 'FETCHED_DATA',\n\n  TOGGLE_INSTALL_APP_BTN: 'TOGGLE_INSTALL_APP_BTN'\n};\n","export const permissionConstants = {\n  normalPermission: ['guest', 'student', 'staff', 'admin'],\n  moderatorPermission: ['staff', 'admin'],\n  adminPermission: ['admin']\n};\n","export const dialogConstants = {\n  TOGGLE_NEWS_DRAWER: 'TOGGLE_NEWS_DRAWER'\n};\n","export const newsConstants = {\n  NEWS_LIST_LOADED: 'NEWS_LIST_LOADED',\n  LOADING_NEWS_LIST: 'LOADING_NEWS_LIST',\n  NEWS_LIST_FAILED: 'NEWS_LIST_FAILED',\n  SET_NEWS_DETAIL: 'SET_NEWS_DETAIL'\n};\n","import axios from \"axios\";\n\nexport const commonService = {\n  fetchDashboardData,\n  getLinks,\n  getContacts,\n};\n\nfunction fetchDashboardData(options) {\n  return axios.get(\"/v1/dashboard\",\n    {params: { ...options }});\n}\n\nfunction getLinks(options) {\n  return axios.get(\"/v1/links\",\n    {params: { ...options }});\n}\n\nfunction getContacts(options) {\n  return axios.get(\"/v1/contacts\",\n    {params: { ...options }});\n}\n","import axios from \"axios\";\n\nexport const newsService = {\n  fetchNewsList,\n  fetchNewsDetail,\n};\n\nfunction fetchNewsList(options) {\n  return axios.get(\"/v1/news_list\",\n    {params: { ...options }});\n}\n\nfunction fetchNewsDetail(id) {\n  return axios.get(\"/v1/news_detail\" + id);\n}\n","import axios from \"axios\";\nimport { getAccessToken, getSessionUUID } from '../store/tokenStore';\n\nexport function defaultHeader() {\n  const token = getAccessToken();\n  const uuid = getSessionUUID();\n  if (process.env.NODE_ENV === 'production') {\n    axios.defaults.baseURL = 'https://api.co19kh.info';\n  } else {\n    axios.defaults.baseURL = 'http://localhost:3000';\n  }\n  axios.defaults.headers.common['Content-Type'] = 'application/json';\n  axios.defaults.headers.common['Accept'] = 'application/json';\n  axios.defaults.headers.common['UUID'] = uuid;\n  if (token !== null) {\n    axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n  }\n}\n","import cookie from 'js-cookie';\nimport uuid  from 'uuid/v4';\n\nexport function setTokens(token, refresh_token) {\n  cookie.set('refresh_token', refresh_token);\n  cookie.set('token', token);\n  // localStorage.setItem('refresh_token', refresh_token);\n  // localStorage.setItem('token', token);\n}\n\nexport function setToken(token) {\n  cookie.set('token', token);\n  // localStorage.setItem('token', token);\n}\n\nexport function getAccessToken() {\n  return cookie.get('token')\n  // return localStorage.getItem('token')\n}\n\nexport function getRefreshToken() {\n  return cookie.get('refresh_token')\n  // return localStorage.getItem('refresh_token')\n}\n\nexport function removeTokens() {\n  cookie.remove('refresh_token');\n  cookie.remove('token');\n  // localStorage.removeItem('refresh_token')\n  // localStorage.removeItem('token')\n}\n\nexport function getSessionUUID() {\n  let sessionUUID = sessionStorage.getItem(\"uuid\");\n  if(sessionUUID) {\n    return sessionUUID;\n  }\n\n  // generate uuid\n  sessionUUID = uuid();\n  sessionStorage.setItem(\"uuid\", sessionUUID);\n  return sessionUUID;\n}\n","import { defaultHeader } from './defaultHeader';\nimport {createAxiosResponseInterceptor} from './createAxiosResponseInterceptor';\nexport * from './common.service';\nexport * from './news.service';\n\ndefaultHeader();\ncreateAxiosResponseInterceptor();\n","import axios from \"axios\";\nimport { getRefreshToken, setTokens } from '../store/tokenStore';\n\nexport function createAxiosResponseInterceptor() {\n  // for multiple requests\n  let isRefreshing = false;\n  let failedQueue = [];\n\n  const processQueue = (error, token = null) => {\n    failedQueue.forEach(prom => {\n      if (error) {\n        prom.reject(error);\n      } else {\n        prom.resolve(token);\n      }\n    })\n\n    failedQueue = [];\n  }\n\n  axios.interceptors.response.use(function (response) {\n    return response;\n  }, function (error) {\n\n    const originalRequest = error.config;\n\n    const refreshToken = getRefreshToken();\n    if (refreshToken && error.response && error.response.status === 401 && !originalRequest._retry) {\n\n      if (isRefreshing) {\n        return new Promise(function(resolve, reject) {\n          failedQueue.push({resolve, reject})\n        }).then(token => {\n          originalRequest.headers['Authorization'] = 'Bearer ' + token;\n          return axios(originalRequest);\n        }).catch(err => {\n          return err\n        })\n      }\n\n      originalRequest._retry = true;\n      isRefreshing = true;\n\n      return new Promise(function (resolve, reject) {\n         axios.post('/v1/refresh_token', { refresh_token: refreshToken })\n          .then(({data}) => {\n            const newToken = data.auth.token;\n            const newRefreshToken = data.auth.refresh_token;\n            setTokens(newToken, newRefreshToken)\n            axios.defaults.headers.common['Authorization'] = 'Bearer ' + newToken;\n            originalRequest.headers['Authorization'] = 'Bearer ' + newToken;\n            processQueue(null, newToken);\n            resolve(axios(originalRequest));\n          })\n          .catch((err) => {\n            processQueue(err, null);\n            reject(err);\n          })\n          .then(() => { isRefreshing = false })\n      })\n    }\n\n    return Promise.reject(error);\n  });\n}\n","import km from \"./km.json\";\nimport en from \"./en.json\";\n\nexport function getLocaleData(lang) {\n  if(lang === \"km\") {\n    return km;\n  }\n\n  return en;\n}\n","import Moment from 'moment';\nimport { updateIntl } from 'react-intl-redux';\n\nimport { commonConstants } from '../constants';\nimport { commonService } from '../services';\nimport {setLocale}         from '../store/locale';\nimport {getLocaleData}         from '../locale-data';\n\nexport function changeLanguage(lang) {\n  return function(dispatch) {\n    if(lang === 'km' || lang === 'en') {\n      Moment.locale(lang);\n      dispatch(updateIntl({\n        locale: lang,\n        messages: getLocaleData(lang)\n      }));\n      setLocale(lang);\n    }\n  }\n}\n\nexport function toggleInstallApp(options) {\n  return function(dispatch) {\n    dispatch({type: commonConstants.TOGGLE_INSTALL_APP_BTN, payload: options});\n  }\n}\n\nexport function fetchDashboardData(options) {\n  return function(dispatch) {\n    dispatch({type: commonConstants.LOADING_DASHBOARD, payload: null});\n    commonService.fetchDashboardData(options)\n      .then((response) => {\n        dispatch({type: commonConstants.DASHBOARD_LOADED, payload: response.data});\n        dispatch({type: commonConstants.SYS_LOADING_COMPLETE, payload: null});\n      })\n      .catch((err) => {\n        console.log(err);\n        dispatch({type: commonConstants.SYS_LOADING_COMPLETE, payload: null});\n        dispatch({type: commonConstants.DASHBOARD_FAILED, payload: null});\n      });\n\n  }\n}\n\nexport function getLinks(options) {\n  return function(dispatch) {\n    dispatch({type: commonConstants.LOADING_LINKS, payload: null});\n    commonService.getLinks(options)\n      .then((response) => {\n        dispatch({type: commonConstants.LINKS_LOADED, payload: response.data});\n      })\n      .catch((err) => {\n        console.log(err);\n        dispatch({type: commonConstants.LINKS_FAILED, payload: null});\n      });\n  }\n}\n\nexport function getContacts(options) {\n  return function(dispatch) {\n    dispatch({type: commonConstants.LOADING_CONTACTS, payload: null});\n    commonService.getContacts(options)\n      .then((response) => {\n        dispatch({type: commonConstants.CONTACTS_LOADED, payload: response.data});\n      })\n      .catch((err) => {\n        console.log(err);\n        dispatch({type: commonConstants.CONTACTS_FAIL, payload: null});\n      });\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport Grid from '@material-ui/core/Grid';\nimport { Link } from 'react-router-dom';\nimport {\n  Dropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem\n} from \"shards-react\";\nimport Button from '@material-ui/core/Button';\nimport AddIcon from '@material-ui/icons/Add';\nimport { FormattedMessage } from 'react-intl';\n\nimport logo from '../images/full_logo.svg';\nimport kh_flag from '../images/kh_flag.svg';\nimport gb_flag from '../images/gb_flag.svg';\nimport { changeLanguage, toggleInstallApp } from '../actions/common.actions';\nconst Header = styled.div`\n  background: #FFF;\n  background: transparent;\n  top: 0;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n`;\n\nconst GridContainer = styled(Grid)`\n  height: 100%;\n  padding: 10px 20px;\n  max-width: 800px;\n`;\n\nconst  LogoImage = styled.img`\n  height: 40px;\n`;\n\nconst LangItem = styled.div`\n  display: flex;\n  align-items: center;\n`;\nconst LangFlag = styled.img`\n  height: 20px;\n  width: 40px;\n`;\nconst RightNav = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n`;\n\n@connect((store) => {\n  return {\n    current_lang: store.intl.locale,\n    isShowInstallBtn: store.commonReducers.isShowInstallBtn\n  };\n}, {changeLanguage, toggleInstallApp})\nclass PublicHeader extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { open: false };\n  }\n\n  onChangeLang(lang) {\n    const {current_lang} = this.props;\n    if(lang === current_lang) {\n      return;\n    }\n\n    this.props.changeLanguage(lang);\n  }\n  _renderFlag(lang, isSort) {\n    if(lang === 'en') {\n      return(\n        <LangItem onClick={() => this.onChangeLang('en')}>\n          <LangFlag src={gb_flag} alt=\"English\"/>\n          <b>{isSort ? 'EN' : 'English'}</b>\n        </LangItem>\n      );\n    }\n\n    return(\n      <LangItem onClick={() => this.onChangeLang('km')}>\n        <LangFlag src={kh_flag} alt=\"Khmer\"/>\n        <b>{isSort ? 'KH' : 'ខ្មែរ'}</b>\n      </LangItem>\n    );\n  }\n\n  toggle = () => {\n    this.setState(prevState => {\n      return { open: !prevState.open };\n    });\n  }\n\n  handleInstall = () => {\n    const promptEvent = window.deferredPrompt;\n    if (!promptEvent) {\n      // The deferred prompt isn't available.\n      return;\n    }\n    // Show the install prompt.\n    promptEvent.prompt();\n    promptEvent.userChoice.then((result) => {\n      console.log('👍', 'userChoice', result);\n      // prompt() can only be called once.\n      window.deferredPrompt = null;\n      // Hide the install button.\n      this.props.toggleInstallApp({show: false});\n    });\n  }\n\n  render() {\n    const {current_lang, isShowInstallBtn} = this.props;\n    return (\n      <Header>\n        <GridContainer container spacing={0}\n              direction=\"row\"\n              justify=\"center\"\n              alignItems=\"center\">\n          <Grid item xs={4} sm={8}>\n            <Link to=\"/\">\n              <LogoImage src={logo} alt=\"kounissay\"/>\n            </Link>\n          </Grid>\n          <Grid item xs={8} sm={4}>\n            <RightNav className=\"\">\n              <div>\n                {\n                  isShowInstallBtn &&\n                  <Button variant=\"contained\"\n                          color=\"primary\"\n                          size=\"small\"\n                          startIcon={<AddIcon/>}\n                          onClick={this.handleInstall}>\n                    <FormattedMessage id=\"app.install\" defaultMessage=\"Install\"/>\n                  </Button>\n                }\n              </div>\n              <Dropdown open={this.state.open} toggle={this.toggle}>\n                <DropdownToggle tag=\"span\">{this._renderFlag(current_lang, true)}</DropdownToggle>\n                <DropdownMenu right>\n                  <DropdownItem>{this._renderFlag('km')}</DropdownItem>\n                  <DropdownItem>{this._renderFlag('en')}</DropdownItem>\n                </DropdownMenu>\n              </Dropdown>\n            </RightNav>\n          </Grid>\n        </GridContainer>\n      </Header>\n    );\n  }\n}\n\nexport default PublicHeader;\n","import cookie from 'js-cookie';\n\nexport function getLocale() {\n  return cookie.get('locale') || 'en';\n}\n\nexport function setLocale(lang) {\n  cookie.set('locale', lang);\n}\n","import React from 'react';\nimport { withRouter } from \"react-router\";\nimport { withStyles } from '@material-ui/core/styles';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport HomeIcon from '@material-ui/icons/Home';\nimport RestoreIcon from '@material-ui/icons/Restore';\nimport ContactPhoneIcon from '@material-ui/icons/ContactPhone';\nimport LinkIcon from '@material-ui/icons/Link';\nimport { matchPath } from 'react-router-dom';\nimport { FormattedMessage } from 'react-intl';\n\nimport { history } from '../routers/AppRouter';\nconst styles = () => ({\n  root: {\n    width: '100%',\n  },\n});\n\nclass Footer extends React.Component {\n  state = {\n    page: '',\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      this._updatePageState();\n    }\n  }\n  componentDidMount() {\n    this._updatePageState();\n  }\n\n  _updatePageState() {\n    const {pathname} = this.props.location;\n    let page = '';\n    const isHome = !!matchPath(pathname, {\n      path: \"/\",\n      exact: true,\n    });\n    const isNews = !!matchPath(pathname, {\n      path: \"/news\",\n    });\n\n    const isContacts = !!matchPath(pathname, {\n      path: \"/contacts\",\n    });\n\n    const isLinks = !!matchPath(pathname, {\n      path: \"/links\",\n    });\n\n    if(isHome) {\n      page = 'home';\n    } else if(isNews) {\n      page = 'news';\n    } else if(isContacts) {\n      page = 'contacts';\n    } else if(isLinks) {\n      page = 'links';\n    }\n\n    this.setState({ page });\n  }\n\n  handleChange = (event, newPage)=> {\n    if (newPage === 'home') {\n      history.push('/');\n    } else {\n      history.push('/' + newPage);\n    }\n  }\n  render() {\n    const {classes} = this.props;\n    const {page} = this.state;\n    return (\n      <BottomNavigation value={page} onChange={this.handleChange} className={classes.root}>\n        <BottomNavigationAction label={<FormattedMessage id=\"app.home\" defaultMessage=\"Home\" />}\n          value=\"home\" icon={<HomeIcon />} className=\"\"/>\n        <BottomNavigationAction label={<FormattedMessage id=\"app.news\" defaultMessage=\"News\" />}\n          value=\"news\" icon={<RestoreIcon />} />\n        <BottomNavigationAction label={<FormattedMessage id=\"app.links\" defaultMessage=\"Links\" />}\n          value=\"links\" icon={<LinkIcon />} className=\"\"/>\n        <BottomNavigationAction label={<FormattedMessage id=\"app.contacts\" defaultMessage=\"Contacts\" />}\n          value=\"contacts\" icon={<ContactPhoneIcon />} className=\"\"/>\n      </BottomNavigation>\n    );\n  }\n}\n\nexport default withStyles(styles)(withRouter(Footer));\n","import React from \"react\";\nimport styled from 'styled-components';\n\nimport PublicHeader from '../components/PublicHeader';\nimport PublicFooter from '../components/PublicFooter';\n\nconst PublicContainer = styled.div`\n  background: #f5f6f8;\n  width: 100%;\n  overflow: hidden;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n`;\nconst Body = styled.div`\n  display: flex;\n  flex: 1;\n  overflow: auto;\n  // padding: 10px 20px;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n`;\nconst PublicLayout = ({ children }) => (\n  <PublicContainer>\n    <PublicHeader/>\n    <Body>\n      {children}\n    </Body>\n    <PublicFooter/>\n  </PublicContainer>\n);\n\nexport default PublicLayout;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport {\n  Card,\n  CardTitle,\n  CardBody,\n  Row,\n  Col,\n} from \"shards-react\";\nimport isEmpty from \"lodash/isEmpty\";\nimport { FormattedMessage } from 'react-intl';\n\nconst Title = styled(CardTitle)`\n  font-size: 1em;\n`;\n\n@connect((store) => {\n  return {\n    summary: store.dashboardReducers.summary\n  };\n}, {})\nclass Overview extends React.Component {\n  render() {\n    const {summary} = this.props;\n    if(isEmpty(summary)) {\n      return(<div/>);\n    }\n\n    return (\n      <Row>\n        <Col xs=\"6\" md=\"3\" className=\"mb-3\">\n          <Card className=\"p-0\" theme=\"\">\n            <CardBody className=\"p-4 text-center\">\n              <Title className=\"text-danger\">\n                <FormattedMessage id=\"case.confirmed\" defaultMessage=\"CONFIRMED\" />\n              </Title>\n              <h2 className=\"text-danger mb-0\">{summary.confirmed}</h2>\n            </CardBody>\n          </Card>\n        </Col>\n        <Col xs=\"6\" md=\"3\" className=\"mb-3\">\n          <Card className=\"p-0\">\n            <CardBody className=\"p-4 text-center text-primary\">\n              <Title className=\"text-primary\">\n                <FormattedMessage id=\"case.active\" defaultMessage=\"ACTIVE\" />\n              </Title>\n              <h2 className=\"text-primary mb-0\">{summary.active}</h2>\n            </CardBody>\n          </Card>\n        </Col>\n        <Col xs=\"6\" md=\"3\" className=\"mb-3\">\n          <Card className=\"p-0\">\n            <CardBody className=\"p-4 text-center\">\n              <Title className=\"text-success\">\n                <FormattedMessage id=\"case.recovered\" defaultMessage=\"RECOVERED\" />\n              </Title>\n              <h2 className=\"text-success mb-0\">{summary.recovered}</h2>\n            </CardBody>\n          </Card>\n        </Col>\n        <Col xs=\"6\" md=\"3\" className=\"mb-3\">\n          <Card className=\"p-0\">\n            <CardBody className=\"p-4 text-center\">\n              <Title>\n                <FormattedMessage id=\"case.dead\" defaultMessage=\"DEAD\" />\n              </Title>\n              <h2 className=\"mb-0\">{summary.dead}</h2>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nexport default Overview;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Paper from '@material-ui/core/Paper';\nimport isEmpty from \"lodash/isEmpty\";\nimport orderBy from \"lodash/orderBy\";\nimport { FormattedMessage } from 'react-intl';\n\nconst headCells = [\n  { id: 'province', numeric: false, className: \"\"},\n  { id: 'confirmed', numeric: true, className: \"text-danger\"},\n  { id: 'active', numeric: true, className: \"text-primary\"},\n  { id: 'recovered', numeric: true, className: \"text-success\"},\n  { id: 'dead', numeric: true, className: \"\"},\n];\n\nfunction EnhancedTableHead(props) {\n  const { order, orderField, onRequestSort } = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        {headCells.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? 'right' : 'left'}\n            padding='default'\n            sortDirection={orderField === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderField === headCell.id}\n              direction={orderField === headCell.id ? order : 'asc'}\n              onClick={createSortHandler(headCell.id)}\n              className={headCell.className}\n            >\n              <FormattedMessage id={`label.${headCell.id}`} defaultMessage=\"\" />\n              {orderField === headCell.id ? (\n                <span className=\"\">\n                  {order === 'desc' ? '' : ''}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\n\n@connect((store) => {\n  return {\n    provinces: store.dashboardReducers.provinces,\n    locale: store.intl.locale\n  };\n}, {})\nclass Provinces extends React.Component {\n  state = {\n    order: 'desc',\n    orderField: 'confirmed',\n  }\n  handleRequestSort = (event, property) => {\n    const {orderField, order} = this.state;\n    const isAsc = orderField === property && order === 'asc';\n    this.setState({order: isAsc ? 'desc' : 'asc'});\n    this.setState({orderField: property});\n  }\n\n  renderName(row) {\n    let {locale} = this.props;\n    if(locale === \"en\" && !isEmpty(row.province_en)) {\n      return row.province_en;\n    }\n\n    return row.province;\n  }\n\n  render() {\n    let {provinces, locale} = this.props;\n    const {orderField, order} = this.state;\n    if(isEmpty(provinces)) {\n      return(<div/>);\n    }\n\n    if(locale === \"en\" && orderField === \"province\") {\n      provinces = orderBy(provinces, `${orderField}_en`, order);\n    } else {\n      provinces = orderBy(provinces, orderField, order);\n    }\n\n\n    return (\n      <TableContainer component={Paper}>\n        <Table aria-label=\"simple table\">\n          <EnhancedTableHead\n            order={order}\n            orderField={orderField}\n            onRequestSort={this.handleRequestSort}\n            rowCount={provinces.length}\n          />\n          <TableBody>\n            {provinces.map(row => (\n              <TableRow key={row.province}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {this.renderName(row)}\n                </TableCell>\n                <TableCell align=\"right\" className=\"text-danger\">{row.confirmed}</TableCell>\n                <TableCell align=\"right\" className=\"text-primary\">{row.active}</TableCell>\n                <TableCell align=\"right\" className=\"text-success\">{row.recovered}</TableCell>\n                <TableCell align=\"right\">{row.dead}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    );\n  }\n}\n\nexport default Provinces;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { FormattedMessage } from 'react-intl';\n\nimport loader from '../images/oval.svg';\nconst Container = styled.div`\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n`;\n\nclass NoRecord extends React.Component {\n  render() {\n    const {isFetching, className} = this.props;\n    return (\n      <Container className={`${className} container`}>\n        {\n          !isFetching &&\n          <h4><FormattedMessage id=\"app.no_records\" defaultMessage=\"No Record\" /></h4>\n        }\n        {\n          isFetching &&\n          <img className=\"loader__image\" src={loader} alt=\"loading\" />\n        }\n      </Container>\n    );\n  }\n}\n\nexport default NoRecord;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { FormattedMessage } from 'react-intl';\nimport Moment from 'react-moment';\n\nimport Overview from \"./../components/Overview\";\nimport Provinces from \"./../components/Provinces\";\nimport NoRecord from \"./../components/NoRecord\";\nconst Container = styled.div`\n`;\n\n@connect((store) => {\n  return {\n    lastFetchAt: store.dashboardReducers.lastFetchAt,\n    isFetching: store.dashboardReducers.isFetching\n  };\n}, {})\nclass HomePage extends React.Component {\n  render() {\n    const {lastFetchAt, isFetching} = this.props;\n    if(isFetching) {\n      return(<NoRecord isFetching={true}/>);\n    }\n    return (\n      <Container className=\"container\">\n        {\n          lastFetchAt &&\n          <div className=\"text-right\">\n            <p className=\"mb-1 mr-2\">\n              <FormattedMessage id=\"app.updated_at\" defaultMessage=\"Updated:\" />\n              <span className=\"text-success\">\n                <Moment fromNow>{lastFetchAt}</Moment>\n              </span>\n            </p>\n          </div>\n        }\n        <Overview/>\n        <Provinces/>\n      </Container>\n    );\n  }\n}\n\nexport default HomePage;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport isEmpty from \"lodash/isEmpty\";\n\nimport NoRecord from \"./../components/NoRecord\";\nconst Container = styled.div`\n  overflow: auto;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n`;\n\n@connect((store) => {\n  return {\n    links: store.linkReducers.links,\n    isFetching: store.linkReducers.isFetching\n  };\n}, {})\nclass LinksPage extends React.Component {\n  render() {\n    const {links, isFetching} = this.props;\n    if(isEmpty(links)) {\n      return(<NoRecord isFetching={isFetching} className=\"bg-white\"/>);\n    }\n\n    return (\n      <Container className=\"container bg-white\">\n        {\n          links.map((link, index)=>(\n            <div className=\"p-3 border rounded mt-3 text-break\" key={index}>\n              <h5 className=\"mb-0\">{link.title}</h5>\n              <a href={link.link} target=\"_blank\" rel=\"noopener noreferrer\">\n                {link.link}\n              </a>\n            </div>\n          ))\n        }\n      </Container>\n    );\n  }\n}\n\nexport default LinksPage;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport isEmpty from \"lodash/isEmpty\";\n\nimport NoRecord from \"./../components/NoRecord\";\nconst Container = styled.div`\n  overflow: auto;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n`;\n\n@connect((store) => {\n  return {\n    contacts: store.contactReducers.contacts,\n    isFetching: store.contactReducers.isFetching\n  };\n}, {})\nclass ContactsPage extends React.Component {\n  renderContactList(contact) {\n    return(\n      <ul>\n        {\n          contact.data.map((elm, i) => {\n            if(elm.type === \"link\") {\n              return(<li key={i}>\n                <a href={elm.text} target=\"_blank\" rel=\"noopener noreferrer\">{elm.text}</a>\n              </li>);\n            }\n\n            return(<li key={i}>{elm.text}</li>);\n          })\n        }\n      </ul>\n    );\n  }\n  render() {\n    const {contacts, isFetching} = this.props;\n    if(isEmpty(contacts)) {\n      return(<NoRecord isFetching={isFetching} className=\"bg-white\"/>);\n    }\n    return (\n      <Container className=\"container bg-white\">\n        {\n          contacts.map((contact, index)=>(\n            <div className=\"p-3 border rounded mt-3 text-break\" key={index}>\n              <h5 className=\"mb-2\">{contact.name}</h5>\n              {this.renderContactList(contact)}\n            </div>\n          ))\n        }\n      </Container>\n    );\n  }\n}\n\nexport default ContactsPage;\n","import { dialogConstants } from '../constants';\n\nexport function toggleNewsDrawer(options) {\n  return function(dispatch) {\n    dispatch({\n      type: dialogConstants.TOGGLE_NEWS_DRAWER,\n      payload: options\n    });\n  }\n}\n","export function getYouTubeID(url) {\n  var ID = '';\n  url = url.replace(/(>|<)/gi,'').split(/(vi\\/|v=|\\/v\\/|youtu\\.be\\/|\\/embed\\/)/);\n  if(url[2] !== undefined) {\n    ID = url[2].split(/[^0-9a-z_-]/i);\n    ID = ID[0];\n  }\n  else {\n    ID = url;\n  }\n  return ID;\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Drawer from '@material-ui/core/Drawer';\nimport styled from 'styled-components';\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport isEmpty from \"lodash/isEmpty\";\nimport { FacebookProvider, EmbeddedPost } from 'react-facebook';\n\nimport { toggleNewsDrawer } from '../actions/dialog.actions';\nimport loader from '../images/oval.svg';\nimport {getYouTubeID} from \"./../helpers/youtubeID\";\nconst Header = styled.div`\n  display: flex;\n  flex: 1;\n  width: 100%;\n  justify-content: space-between;\n`;\nconst Body = styled.div`\n  padding: 15px;\n`;\nconst Title = styled.h5`\n  padding: 15px;\n`;\n\nconst FacebookWraper = styled.div`\n  position: relative;\n  .loader__image {\n    position: absolute;\n    top: 40%;\n    left: 40%;\n  }\n  position: relative;\n  min-height: 120px;\n  iframe {\n    max-width: 100%;\n  }\n`;\n\n@connect((store) => {\n  return {\n    newsDetail: store.newsReducers.newsDetail,\n    newDrawerOpen: store.dialogReducers.newDrawerOpen\n  };\n}, {toggleNewsDrawer})\nclass NewsDetailDrawer extends React.Component {\n  toggleDrawer = () => {\n    this.props.toggleNewsDrawer({open: false});\n  }\n\n  renderFBEmbeded() {\n    const {newsDetail} = this.props;\n    if(isEmpty(newsDetail.link)) {\n      return(<div/>);\n    }\n\n    return(\n      <div className=\"\">\n        <FacebookWraper className=\"text-center mb-2\">\n          <img className=\"loader__image\" src={loader} alt=\"loading\" />\n          <FacebookProvider appId=\"466260074169181\">\n            <EmbeddedPost\n              href={newsDetail.link}\n              showText=\"false\"\n              width=\"auto\" />\n          </FacebookProvider>\n        </FacebookWraper>\n      </div>\n    );\n  }\n\n  renderVideo() {\n    const {newsDetail} = this.props;\n    if(isEmpty(newsDetail.link)) {\n      return(<div/>);\n    }\n\n    const videoId = getYouTubeID(newsDetail.link);\n    if(isEmpty(videoId)) {\n      return(<div/>);\n    }\n\n    return(\n      <div className=\"text-center mb-2\">\n        <div\n          className=\"video\"\n          style={{\n            position: \"relative\",\n            paddingBottom: \"56.25%\" /* 16:9 */,\n            paddingTop: 25,\n            height: 0\n          }}\n        >\n          <iframe\n            title=\"youtube embeded\"\n            style={{\n              position: \"absolute\",\n              top: 0,\n              left: 0,\n              width: \"100%\",\n              height: \"100%\"\n            }}\n            src={`https://www.youtube.com/embed/${videoId}`}\n            frameBorder=\"0\"\n          />\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const {newDrawerOpen, newsDetail} = this.props;\n    if(isEmpty(newsDetail)) {\n      return(<div/>);\n    }\n\n    return (\n      <div>\n        <Drawer anchor=\"right\"\n                open={newDrawerOpen}\n                onClose={this.toggleDrawer}\n                classes={{\n                  paper: \"news-detail-drawer\",\n                }}\n                className=\"drawer-wrapper\">\n          <div>\n            <Header>\n              <Title>\n                {newsDetail.title}\n              </Title>\n              <div>\n                <IconButton aria-label=\"show 4 new mails\" color=\"inherit\" onClick={this.toggleDrawer}>\n                  <CloseIcon/>\n                </IconButton>\n              </div>\n            </Header>\n            <Body>\n              {\n                newsDetail.type === \"facebook_post\" &&\n                this.renderFBEmbeded()\n              }\n              {\n                newsDetail.type === \"video\" &&\n                this.renderVideo()\n              }\n\n              <p>{newsDetail.description}</p>\n            </Body>\n          </div>\n        </Drawer>\n      </div>\n    );\n  }\n\n}\n\nexport default NewsDetailDrawer;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport LinesEllipsis from 'react-lines-ellipsis';\nimport styled from 'styled-components';\nimport isEmpty from \"lodash/isEmpty\";\nimport { Row, Col } from \"shards-react\";\nimport { FacebookProvider, EmbeddedPost } from 'react-facebook';\nimport Moment from 'react-moment';\n\nimport loader from '../images/oval.svg';\nimport { toggleNewsDrawer } from '../actions/dialog.actions';\nimport { setNewsDetail } from '../actions/news.actions';\nimport {getYouTubeID} from \"./../helpers/youtubeID\";\nconst FacebookWraper = styled.div`\n  position: relative;\n  .loader__image {\n    position: absolute;\n    top: 40%;\n    left: 40%;\n  }\n  .post-backdrop {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n  }\n  position: relative;\n  min-height: 120px;\n  iframe {\n    max-width: 100%;\n  }\n`;\n\nconst PostDate = styled.div`\n`;\n\n@connect(() => {\n  return {\n  };\n}, {toggleNewsDrawer, setNewsDetail})\nclass News extends React.Component {\n  handleClick = () => {\n    const {news} = this.props;\n    this.props.setNewsDetail(news);\n    this.props.toggleNewsDrawer({open: true});\n  }\n\n  renderPublishDate() {\n    const {news} = this.props;\n    if(isEmpty(news.publish_date)) {\n      return(<div/>);\n    }\n\n    return(\n      <PostDate className=\"text-muted\">\n        <Moment format=\"hh:mm MMMM DD, YYYY\">\n          1976-04-19T12:59-0500\n        </Moment>\n      </PostDate>\n    );\n  }\n\n  renderFBEmbeded() {\n    const {news} = this.props;\n    if(isEmpty(news.link)) {\n      return(<div/>);\n    }\n\n    return(\n      <div className=\"cursor-pointer p-3 border rounded mt-3 text-break\" onClick={this.handleClick}>\n        <Row noGutters>\n          <Col sm=\"6\" md=\"6\" lg=\"4\">\n            <FacebookWraper className=\"text-center mb-2\">\n              <img className=\"loader__image\" src={loader} alt=\"loading\" />\n              <FacebookProvider appId=\"466260074169181\">\n                <EmbeddedPost\n                  href={news.link}\n                  showText=\"false\"\n                  width=\"auto\" />\n              </FacebookProvider>\n              <div className=\"post-backdrop\"/>\n            </FacebookWraper>\n          </Col>\n          <Col sm=\"6\" md=\"6\" lg=\"8\">\n            <div className=\"pl-2\">\n              <h5 className=\"mb-1\">\n                <LinesEllipsis\n                  text={news.title}\n                  maxLine='2'\n                  ellipsis='...'\n                  trimRight\n                  basedOn='letters'\n                />\n              </h5>\n              <LinesEllipsis\n                text={news.description}\n                maxLine='2'\n                ellipsis='...'\n                trimRight\n                basedOn='letters'\n              />\n              {this.renderPublishDate()}\n            </div>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  renderVideo() {\n    const {news} = this.props;\n    if(isEmpty(news.link)) {\n      return(<div/>);\n    }\n\n    const videoId = getYouTubeID(news.link);\n    if(isEmpty(videoId)) {\n      return(<div/>);\n    }\n\n    return(\n      <div className=\"cursor-pointer p-3 border rounded mt-3 text-break\" onClick={this.handleClick}>\n        <Row noGutters>\n          <Col sm=\"6\" md=\"6\" lg=\"4\">\n            <div className=\"text-center mb-2\">\n              <img src={`https://img.youtube.com/vi/${videoId}/mqdefault.jpg`} className=\"img-fluid\" alt={news.title} />\n            </div>\n          </Col>\n          <Col sm=\"6\" md=\"6\" lg=\"8\">\n            <div className=\"pl-2\">\n              <h5 className=\"mb-1\">\n                <LinesEllipsis\n                  text={news.title}\n                  maxLine='2'\n                  ellipsis='...'\n                  trimRight\n                  basedOn='letters'\n                />\n              </h5>\n              <LinesEllipsis\n                text={news.description}\n                maxLine='2'\n                ellipsis='...'\n                trimRight\n                basedOn='letters'\n              />\n              {this.renderPublishDate()}\n            </div>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n  render() {\n    const {news} = this.props;\n\n    if(news.type === \"video\") {\n      return this.renderVideo()\n    } else if(news.type === \"facebook_post\") {\n      return this.renderFBEmbeded()\n    }\n\n    return (\n      <div className=\"cursor-pointer p-3 border rounded mt-3 text-break\" onClick={this.handleClick}>\n        <h5 className=\"mb-1\">{news.title}</h5>\n        <div className=\"mb-1\">\n          <LinesEllipsis\n            text={news.description}\n            maxLine='2'\n            ellipsis='...'\n            trimRight\n            basedOn='letters'\n          />\n          {this.renderPublishDate()}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default News;\n","import { newsConstants } from '../constants';\nimport { newsService } from '../services';\n\nexport function fetchNewsList(options) {\n  return function(dispatch) {\n    dispatch({type: newsConstants.LOADING_NEWS_LIST, payload: null});\n    newsService.fetchNewsList(options)\n      .then((response) => {\n        dispatch({type: newsConstants.NEWS_LIST_LOADED, payload: response.data});\n      })\n      .catch((err) => {\n        console.log(err);\n        dispatch({type: newsConstants.NEWS_LIST_FAILED, payload: null});\n      });\n  }\n}\n\nexport function setNewsDetail(news) {\n  return function(dispatch) {\n    dispatch({type: newsConstants.SET_NEWS_DETAIL, payload: {news: news}});\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport isEmpty from \"lodash/isEmpty\";\n\nimport { fetchNewsList }      from './../actions/news.actions'\nimport NoRecord from \"./../components/NoRecord\";\nimport NewsDetailDrawer from \"./../components/NewsDetailDrawer\";\nimport News from \"./../components/News\";\nconst Container = styled.div`\n  overflow: auto;\n  max-width: 800px;\n  justify-content: center;\n  width: 100%;\n`;\n\n@connect((store) => {\n  return {\n    newsList: store.newsReducers.newsList,\n    isFetching: store.newsReducers.isFetching\n  };\n}, {fetchNewsList})\nclass NewsPage extends React.Component {\n  componentDidMount = () => {\n    this.props.fetchNewsList();\n  }\n\n  render() {\n    const {newsList, isFetching} = this.props;\n    if(isEmpty(newsList)) {\n      return(<NoRecord isFetching={isFetching} className=\"bg-white\"/>);\n    }\n\n    return (\n      <Container className=\"container bg-white\">\n        {\n          newsList.map((news, index)=>(\n            <News news={news} key={index}/>\n          ))\n        }\n        <NewsDetailDrawer/>\n      </Container>\n    );\n  }\n}\n\nexport default NewsPage;\n","// Layout Types\nimport { PublicLayout } from \"./../layouts\";\n\nimport {permissionConstants} from \"../constants\";\n\nimport HomePage from './../screens/HomePage';\nimport LinksPage from './../screens/LinksPage';\nimport ContactsPage from './../screens/ContactsPage';\nimport NewsPage from './../screens/NewsPage';\nexport default [\n  {\n    path: \"/\",\n    plublic: true,\n    exact: true,\n    layout: PublicLayout,\n    component: HomePage,\n    allowRoles: permissionConstants.normalPermission,\n  },\n  {\n    path: \"/news\",\n    plublic: true,\n    exact: true,\n    layout: PublicLayout,\n    component: NewsPage,\n    allowRoles: permissionConstants.normalPermission,\n  },\n  {\n    path: \"/links\",\n    plublic: true,\n    exact: true,\n    layout: PublicLayout,\n    component: LinksPage,\n    allowRoles: permissionConstants.normalPermission,\n  },\n  {\n    path: \"/contacts\",\n    plublic: true,\n    exact: true,\n    layout: PublicLayout,\n    component: ContactsPage,\n    allowRoles: permissionConstants.normalPermission,\n  },\n];\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport {createBrowserHistory} from 'history';\nimport styled from 'styled-components';\n\nimport LoadingPage from '../screens/LoadingPage';\nimport NotFoundPage from '../screens/NotFoundPage';\nimport OfflineAlert from \"./../components/OfflineAlert\";\nimport pageRoutes from './pageRoutes';\n\nexport const history = createBrowserHistory();\n\nconst Container = styled.div``;\n\n@connect((store) => {\n  return {\n    isOnboarding: store.commonReducers.isOnboarding,\n  };\n}, {})\nclass AppRouter extends React.Component {\n  componentDidMount() {\n    document.title = \"កូវីដ១៩ខ្មែរ\";\n  }\n\n  render() {\n    const {isOnboarding} =  this.props;\n    if(isOnboarding) {\n      return(<LoadingPage/>)\n    }\n\n    return(\n      <Router history={history}>\n        <Container>\n          <OfflineAlert/>\n          <Switch>\n            {\n              pageRoutes.map((route, index) => {\n                return (\n                  <Route\n                    key={index}\n                    path={route.path}\n                    exact={route.exact}\n                    component={(props) => {\n                      return (\n                        <route.layout {...props}>\n                          <route.component {...props} />\n                        </route.layout>\n                      );\n                    }}\n                  />\n                );\n              })\n            }\n            <Route component={NotFoundPage} />\n          </Switch>\n        </Container>\n      </Router>\n    );\n  }\n}\n\nexport default AppRouter;\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport { batch, batching } from 'redux-batch-middleware';\nimport thunk from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form';\nimport { intlReducer } from 'react-intl-redux';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport autoMergeLevel2 from 'redux-persist/lib/stateReconciler/autoMergeLevel2';\n\nimport commonReducers from '../reducers/commonReducers';\nimport dialogReducers from '../reducers/dialogReducers';\nimport dashboardReducers from '../reducers/dashboardReducers';\nimport linkReducers from '../reducers/linkReducers';\nimport contactReducers from '../reducers/contactReducers';\nimport newsReducers from '../reducers/newsReducers';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst middleware = [thunk, batch];\nconst enhancers = composeEnhancers(applyMiddleware(...middleware));\n\nconst appReducer = combineReducers({\n  commonReducers,\n  dialogReducers,\n  dashboardReducers,\n  linkReducers,\n  contactReducers,\n  newsReducers,\n  form: formReducer,\n  intl: intlReducer,\n});\n\nconst persistConfig = {\n key: 'root',\n storage: storage,\n stateReconciler: autoMergeLevel2,\n blacklist: ['commonReducers']\n};\n\nconst pReducer = persistReducer(persistConfig, batching(appReducer));\nexport default (initialState) => {\n  const store = createStore(pReducer, initialState, enhancers);\n  const persistor = persistStore(store);\n  return { store, persistor }\n};\n","import { commonConstants } from '../constants';\n\nexport default function reducer(state={\n    isOnline: false,\n    isNewVersion: false,\n    isOnboarding: true,\n    isShowInstallBtn: false\n  }, action) {\n    switch(action.type) {\n      case (commonConstants.SYS_LOADING_COMPLETE): {\n        return {\n          ...state,\n          isOnboarding: false\n        };\n      }\n\n      case (commonConstants.TOGGLE_INSTALL_APP_BTN): {\n        const {show} = action.payload;\n        return {\n          ...state,\n          isShowInstallBtn: show\n        };\n      }\n\n      default:\n        return state;\n    }\n}\n","import { dialogConstants } from '../constants';\n\nexport default function reducer(state={\n    newDrawerOpen: false\n  }, action) {\n    switch(action.type) {\n      case (dialogConstants.TOGGLE_NEWS_DRAWER): {\n        const {open} = action.payload;\n        return {\n          ...state,\n          newDrawerOpen: open\n        };\n      }\n\n      default:\n        return state;\n    }\n}\n","import { commonConstants } from '../constants';\n\nexport default function reducer(state={\n    summary: null,\n    provinces: [],\n    lastFetchAt: null,\n    isFetching: false,\n  }, action) {\n    switch(action.type) {\n      case (commonConstants.LOADING_DASHBOARD): {\n        return {\n          ...state,\n          isFetching: true\n        };\n      }\n      case (commonConstants.DASHBOARD_FAILED): {\n        return {\n          ...state,\n          isFetching: false\n        };\n      }\n      case (commonConstants.DASHBOARD_LOADED): {\n        const {summary, provinces, last_fetch_at} = action.payload;\n        return {\n          ...state,\n          summary: summary,\n          provinces: provinces,\n          lastFetchAt: last_fetch_at,\n          isFetching: false\n        };\n      }\n\n      default:\n        return state;\n    }\n}\n","import { commonConstants } from '../constants';\n\nexport default function reducer(state={\n    links: [],\n    isFetching: false,\n  }, action) {\n    switch(action.type) {\n      case (commonConstants.LOADING_LINKS): {\n        return {\n          ...state,\n          isFetching: true\n        };\n      }\n      case (commonConstants.LINKS_FAILED): {\n        return {\n          ...state,\n          isFetching: false\n        };\n      }\n      case (commonConstants.LINKS_LOADED): {\n        const {links} = action.payload;\n        return {\n          ...state,\n          links: links,\n          isFetching: false\n        };\n      }\n\n      default:\n        return state;\n    }\n}\n","import { commonConstants } from '../constants';\n\nexport default function reducer(state={\n    contacts: [],\n    isFetching: false,\n  }, action) {\n    switch(action.type) {\n      case (commonConstants.LOADING_CONTACTS): {\n        return {\n          ...state,\n          isFetching: true\n        };\n      }\n      case (commonConstants.CONTACTS_FAIL): {\n        return {\n          ...state,\n          isFetching: false\n        };\n      }\n\n      case (commonConstants.CONTACTS_LOADED): {\n        const {contacts} = action.payload;\n        return {\n          ...state,\n          contacts: contacts,\n          isFetching: false,\n        };\n      }\n\n      default:\n        return state;\n    }\n}\n","import { newsConstants } from '../constants';\n\nexport default function reducer(state={\n    newsList: [],\n    newsDetail: null,\n    isFetching: false\n  }, action) {\n    switch(action.type) {\n\n\n      case (newsConstants.LOADING_NEWS_LIST): {\n        return {\n          ...state,\n          isFetching: true\n        };\n      }\n      case (newsConstants.NEWS_LIST_FAILED): {\n        return {\n          ...state,\n          isFetching: false\n        };\n      }\n      case (newsConstants.NEWS_LIST_LOADED): {\n        const {news_list} = action.payload;\n        return {\n          ...state,\n          newsList: news_list,\n          isFetching: false\n        };\n      }\n\n      case (newsConstants.SET_NEWS_DETAIL): {\n        const {news} = action.payload;\n        return {\n          ...state,\n          newsDetail: news,\n        };\n      }\n\n      default:\n        return state;\n    }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  // if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n  if ('serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      // const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n      const swUrl = `${process.env.PUBLIC_URL}/sw.js`;\n\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n\n    navigator.serviceWorker.addEventListener('controllerchange', function() {\n      window.location.reload();\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      if (registration.waiting) {\n        // Execute callback\n        if (config && config.onWaiting) {\n          config.onWaiting(registration);\n        }\n\n        return;\n      }\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { IntlProvider } from 'react-intl-redux';\nimport { PersistGate } from 'redux-persist/lib/integration/react';\nimport Moment from 'moment';\n\nimport AppRouter from './routers/AppRouter';\nimport configureStore from './store/configureStore';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"shards-ui/dist/css/shards.min.css\";\nimport './style/index.scss';\n// import 'react-image-lightbox/style.css';\nimport * as serviceWorker from './serviceWorker';\nimport { fetchDashboardData, getLinks, getContacts, toggleInstallApp }      from './actions/common.actions'\nimport {getLocale}           from './store/locale';\nimport {getLocaleData}         from './locale-data';\n\nimport '@formatjs/intl-pluralrules/polyfill';\nimport '@formatjs/intl-relativetimeformat/polyfill';\nimport '@formatjs/intl-relativetimeformat/dist/locale-data/km';\nimport '@formatjs/intl-relativetimeformat/dist/locale-data/en';\n\nimport LoadingPage from './screens/LoadingPage';\n\nconst localLang = getLocale();\nconst initialState = {\n  intl: {\n    defaultLocale: 'en',\n    locale: localLang,\n    messages: getLocaleData(localLang),\n  },\n};\nMoment.locale(localLang);\nexport const {store, persistor} = configureStore(initialState);\nstore.dispatch(fetchDashboardData());\nstore.dispatch(getLinks());\nstore.dispatch(getContacts());\n\nsetInterval(function() {\n  store.dispatch(fetchDashboardData());\n  store.dispatch(getLinks());\n  store.dispatch(getContacts());\n}, 300000); //pull every 5 minutes\n\nconst jsx = (\n  <Provider store={store}>\n    <PersistGate loading={<LoadingPage />} persistor={persistor}>\n      <IntlProvider>\n        <AppRouter />\n      </IntlProvider>\n    </PersistGate>\n  </Provider>\n);\n\nReactDOM.render(jsx, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\nserviceWorker.register({\n  onWaiting: function(worker) {\n    // store.dispatch(toggleNewVersion({isNewVersion: true}));\n    worker.waiting.postMessage({action: 'skipWaiting'});\n  },\n  onUpdate: function (worker) {\n    worker.waiting.postMessage({action: 'skipWaiting'});\n  },\n  onSuccess: function(args) {}\n});\n\n\n// TODO help me make it better\nwindow.addEventListener('beforeinstallprompt', (event) => {\n  console.log('👍', 'beforeinstallprompt');\n  // Stash the event so it can be triggered later.\n  event.preventDefault();\n  window.deferredPrompt = event;\n\n  // trigger install display\n  setTimeout(function() {\n    console.log('isShowInstallBtn')\n    if(window.deferredPrompt) {\n      store.dispatch(toggleInstallApp({show: true}));\n    }\n  }, 5000);\n});\n\nwindow.addEventListener('appinstalled', (evt) => {\n  // No need display install app\n  console.log('👍', 'appinstalled');\n  window.deferredPrompt = null;\n  store.dispatch(toggleInstallApp({show: false}));\n});\n","module.exports = __webpack_public_path__ + \"static/media/oval.0aba2b33.svg\";"],"sourceRoot":""}